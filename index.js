// Animation projets
import { gsap } from "gsap";
import LocomotiveScroll from 'locomotive-scroll';
console.log(gsap);
const project = document.querySelectorAll('.project-link');
const projectImg = document.querySelector('.projects-img');
const project1 = document.querySelector('.project-link-1');
const project2 = document.querySelector('.project-link-2');
const project3 = document.querySelector('.project-link-3');
const project4 = document.querySelector('.project-link-4');


document.addEventListener('DOMContentLoaded', () => {

  const scroll = new LocomotiveScroll({
    el: document.querySelector("[data-scroll-container]"),
    smooth: true,
    mobile: {
      smooth: true
    },
    tablet: {
      smooth: true,
      breakpoint: 0,
    },
    multiplier: 0.75,

  });
  new ResizeObserver(() => scroll.update()).observe(document.querySelector("[data-scroll-container]"))


  const tl = gsap.timeline();
  project.forEach((item) => {

    item.addEventListener('mouseover', (e) => {

      tl.fromTo(".projects-img", { duration: 0.5, width: 0, ease: Back.easeOut }, { duration: 0.5, width: "90%", ease: Back.easeOut });

      // console.log(e.target.dataset);
      // projectImg.style.background = `url("/assets/images/projets/${e.target.dataset.bgImage}")`;

      // projectImg.style.backgroundSize = "cover";
    })
    item.addEventListener('mouseout', (e) => {

      tl.fromTo(".projects-img", { duration: 0.5, width: "90%", ease: Back.easeOut }, { duration: 0.5, width: 0, ease: Back.easeOut });

    })
  });



  project1.addEventListener('mouseover', (e) => {
    projectImg.style.background = "url('/assets/images/projets/Capture.PNG') no-repeat 50% 50%";
    projectImg.style.backgroundSize = "cover";

  })

  project2.addEventListener('mouseover', (e) => {
    projectImg.style.background = "url('/assets/images/projets/neighborfood.png') no-repeat 50% 50%";
    // projectImg.style.backgroundSize = "cover";
    console.log(projectImg.style.backgroundImage);
  })

  project3.addEventListener('mouseover', (e) => {
    projectImg.style.background = "url('/assets/images/projets/32-bits.PNG') no-repeat 50% 50%";
    projectImg.style.backgroundSize = "cover";
    console.log(projectImg.style.backgroundImage);
  })
  project4.addEventListener('mouseover', (e) => {
    projectImg.style.background = "url('/assets/images/projets/watch-list.PNG') no-repeat 50% 50%";
    projectImg.style.backgroundSize = "cover";
    console.log(projectImg.style.backgroundImage);
  })
});
// Animation heider
const tlheader = gsap.timeline();
const projectTitle = gsap.utils.toArray(document.querySelectorAll('.project-title'));
tlheader.set(".project-header", { opacity: 0, height: 0 });
tlheader.to(".project-header", { duration: 1, opacity: 1, height: "80vh", ease: Back.easeOut })
  .fromTo(projectTitle, { duration: 1, opacity: 0, y: 100 }, { duration: 1.5, opacity: 1, y: 0, ease: Back.easeOut, stagger: 0.5 }
  )
// scroll-trigger
gsap.registerPlugin(ScrollTrigger);
const lines = gsap.utils.toArray(document.querySelectorAll('.skills-header-line'));
const tlAbout = gsap.timeline();

lines.forEach((line) => {

  tlAbout.set(line, { width: 0 });
  tlAbout.to(line, {
    duration: 3, width: "100%", ease: "linear", stagger: 0.5,

    scrollTrigger: {
      trigger: ".stack",
      markers: true,
      start: "top 75%",
      end: "bottom 25%"
    }

  })
  console.log(line);
})






//ANIMATION BURGER MENU

const hamburger = document.querySelector(".hamburger");
const menu = document.querySelector(".menu");


TweenLite.set('.line01', { x: 40 });
TweenLite.set('.line03', { x: -40 });
TweenLite.set('.navigation', { xPercent: -50, yPercent: -50 })
TweenLite.set('.navigation li', { x: "-100%" });

const hamburgerMotion = new TimelineMax()
  .to('.line03', 0.4, { x: '-=50' }, 0)
  .to('.line01', 0.4, { x: '+=50' }, 0)
  .to('.menu', 0.4, { autoAlpha: 1 }, 0)
  .staggerTo('.navigation li', 0.4, { x: 0, ease: Sine.easeOut }, 0.2, 0.5)
  .to('.navigation li', 1, { marginBottom: '50px', ease: Power1.easeOut })
  .reverse()

hamburger.addEventListener('click', () => {

  menu.classList.toggle('active');
  if (menu.classList.contains('active')) {
    hamburgerMotion.reversed(!hamburgerMotion.reversed());

  } else {
    hamburgerMotion.reversed(!hamburgerMotion.reversed());

  }

  // hamburgerMotion.play();
});




// luge
!function (b, a) { "object" == typeof exports && "undefined" != typeof module ? module.exports = a() : "function" == typeof define && define.amd ? define(a) : (b = "undefined" != typeof globalThis ? globalThis : b || self).luge = a() }(this, function () {
  "use strict"; var ak = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, D = function (a) { return a && a.Math == Math && a }, a = D("object" == typeof globalThis && globalThis) || D("object" == typeof window && window) || D("object" == typeof self && self) || D("object" == typeof ak && ak) || function () { return this }() || Function("return this")(), P = {}, h = function (a) { try { return !!a() } catch (b) { return !0 } }, r = !h(function () { return 7 != Object.defineProperty({}, 1, { get: function () { return 7 } })[1] }), E = !h(function () { var a = (function () { }).bind(); return "function" != typeof a || a.hasOwnProperty("prototype") }), al = Function.prototype.call, i = E ? al.bind(al) : function () { return al.apply(al, arguments) }, am = {}, an = {}.propertyIsEnumerable, bz = Object.getOwnPropertyDescriptor, bA = bz && !an.call({ 1: 2 }, 1); am.f = bA ? function (b) { var a = bz(this, b); return !!a && a.enumerable } : an; var o, F, ao = function (a, b) { return { enumerable: !(1 & a), configurable: !(2 & a), writable: !(4 & a), value: b } }, ap = E, aq = Function.prototype, bB = aq.bind, ar = aq.call, b4 = ap && bB.bind(ar, ar), f = ap ? function (a) { return a && b4(a) } : function (a) { return a && function () { return ar.apply(a, arguments) } }, as = f, b5 = as({}.toString), b6 = as("".slice), at = function (a) { return b6(b5(a), 8, -1) }, b7 = at, bC = a.Object, b8 = f("".split), bD = h(function () { return !bC("z").propertyIsEnumerable(0) }) ? function (a) { return "String" == b7(a) ? b8(a, "") : bC(a) } : bC, b9 = a.TypeError, au = function (a) { if (null == a) throw b9("Can't call method on " + a); return a }, ca = bD, _ = au, G = function (a) { return ca(_(a)) }, c = function (a) { return "function" == typeof a }, cb = c, x = function (a) { return "object" == typeof a ? null !== a : cb(a) }, cc = a, cd = c, s = function (a, c) { var b; return arguments.length < 2 ? cd(b = cc[a]) ? b : void 0 : cc[a] && cc[a][c] }, Q = f({}.isPrototypeOf), av = a, R = s("navigator", "userAgent") || "", aw = av.process, ax = av.Deno, ay = aw && aw.versions || ax && ax.version, $ = ay && ay.v8; $ && (F = (o = $.split("."))[0] > 0 && o[0] < 4 ? 1 : +(o[0] + o[1])), !F && R && (!(o = R.match(/Edge\/(\d+)/)) || o[1] >= 74) && (o = R.match(/Chrome\/(\d+)/)) && (F = +o[1]); var ce = F, az = !!Object.getOwnPropertySymbols && !h(function () { var a = Symbol(); return !String(a) || !(Object(a) instanceof Symbol) || !Symbol.sham && ce && ce < 41 }), aA = az && !Symbol.sham && "symbol" == typeof Symbol.iterator, cf = s, cg = c, ch = Q, ci = a.Object, aB = aA ? function (a) { return "symbol" == typeof a } : function (b) { var a = cf("Symbol"); return cg(a) && ch(a.prototype, ci(b)) }, cj = a.String, S = function (a) { try { return cj(a) } catch (b) { return "Object" } }, ck = c, cl = S, cm = a.TypeError, g = function (a) { if (ck(a)) return a; throw cm(cl(a) + " is not a function") }, cn = g, u = function (b, c) { var a = b[c]; return null == a ? void 0 : cn(a) }, co = i, cp = c, cq = x, cr = a.TypeError, T = { exports: {} }, cs = a, ct = Object.defineProperty, U = function (b, a) { try { ct(cs, b, { value: a, configurable: !0, writable: !0 }) } catch (c) { cs[b] = a } return a }, aC = "__core-js_shared__", H = a[aC] || U(aC, {}), cu = H; (T.exports = function (a, b) { return cu[a] || (cu[a] = void 0 !== b ? b : {}) })("versions", []).push({ version: "3.21.1", mode: "global", copyright: "\xa9 2014-2022 Denis Pushkarev (zloirock.ru)", license: "https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE", source: "https://github.com/zloirock/core-js" }); var cv = au, cw = a.Object, aD = function (a) { return cw(cv(a)) }, cx = aD, cy = f({}.hasOwnProperty), m = Object.hasOwn || function (a, b) { return cy(cx(a), b) }, cz = 0, cA = Math.random(), cB = f(1..toString), aE = function (a) { return "Symbol(" + (void 0 === a ? "" : a) + ")_" + cB(++cz + cA, 36) }, bE = T.exports, cC = m, cD = az, bF = aA, cE = bE("wks"), y = a.Symbol, cF = y && y.for, cG = bF ? y : y && y.withoutSetter || aE, j = function (a) { if (!cC(cE, a) || !cD && "string" != typeof cE[a]) { var b = "Symbol." + a; cD && cC(y, a) ? cE[a] = y[a] : cE[a] = bF && cF ? cF(b) : cG(b) } return cE[a] }, cH = i, cI = x, cJ = aB, cK = u, cL = function (a, d) { var b, c; if ("string" === d && cp(b = a.toString) && !cq(c = co(b, a)) || cp(b = a.valueOf) && !cq(c = co(b, a)) || "string" !== d && cp(b = a.toString) && !cq(c = co(b, a))) return c; throw cr("Can't convert object to primitive value") }, cM = a.TypeError, cN = j("toPrimitive"), cO = function (a, b) { if (!cI(a) || cJ(a)) return a; var c, d = cK(a, cN); if (d) { if (void 0 === b && (b = "default"), c = cH(d, a, b), !cI(c) || cJ(c)) return c; throw cM("Can't convert object to primitive value") } return void 0 === b && (b = "number"), cL(a, b) }, cP = aB, aF = function (b) { var a = cO(b, "string"); return cP(a) ? a : a + "" }, aG = x, aH = a.document, cQ = aG(aH) && aG(aH.createElement), aI = function (a) { return cQ ? aH.createElement(a) : {} }, cR = aI, aJ = !r && !h(function () { return 7 != Object.defineProperty(cR("div"), "a", { get: function () { return 7 } }).a }), cS = i, cT = am, cU = ao, cV = G, cW = aF, cX = m, cY = aJ, bG = Object.getOwnPropertyDescriptor; P.f = r ? bG : function (a, b) { if (a = cV(a), b = cW(b), cY) try { return bG(a, b) } catch (c) { } if (cX(a, b)) return cU(!cS(cT.f, a, b), a[b]) }; var I = {}, aK = r && h(function () { return 42 != Object.defineProperty(function () { }, "prototype", { value: 42, writable: !1 }).prototype }), aL = a, cZ = x, c$ = aL.String, c_ = aL.TypeError, b = function (a) { if (cZ(a)) return a; throw c_(c$(a) + " is not an object") }, c0 = aJ, c1 = b, c2 = aF, c3 = a.TypeError, bH = Object.defineProperty, c4 = Object.getOwnPropertyDescriptor; I.f = r ? aK ? function (c, b, a) { if (c1(c), b = c2(b), c1(a), "function" == typeof c && "prototype" === b && "value" in a && "writable" in a && !a.writable) { var d = c4(c, b); d && d.writable && (c[b] = a.value, a = { configurable: "configurable" in a ? a.configurable : d.configurable, enumerable: "enumerable" in a ? a.enumerable : d.enumerable, writable: !1 }) } return bH(c, b, a) } : bH : function (b, c, a) { if (c1(b), c = c2(c), c1(a), c0) try { return bH(b, c, a) } catch (d) { } if ("get" in a || "set" in a) throw c3("Accessors not supported"); return "value" in a && (b[c] = a.value), b }; var c5 = I, c6 = ao, v = r ? function (a, b, c) { return c5.f(a, b, c6(1, c)) } : function (a, b, c) { return a[b] = c, a }, z = { exports: {} }, V = H, c7 = f(Function.toString); c(V.inspectSource) || (V.inspectSource = function (a) { return c7(a) }); var W, X, Y, aM = V.inspectSource, aN = a.WeakMap, bI = c(aN) && /native code/.test(aM(aN)), bJ = T.exports, c8 = aE, c9 = bJ("keys"), Z = function (a) { return c9[a] || (c9[a] = c8(a)) }, aa = {}, aO = a, ab = f, da = x, db = v, dc = m, ac = H, bK = aa, dd = "Object already initialized", de = aO.TypeError, bL = aO.WeakMap; if (bI || ac.state) { var ad = ac.state || (ac.state = new bL), df = ab(ad.get), dg = ab(ad.has), dh = ab(ad.set); W = function (a, b) { if (dg(ad, a)) throw new de(dd); return b.facade = a, dh(ad, a, b), b }, X = function (a) { return df(ad, a) || {} }, Y = function (a) { return dg(ad, a) } } else { var bM = Z("state"); bK[bM] = !0, W = function (a, b) { if (dc(a, bM)) throw new de(dd); return b.facade = a, db(a, bM, b), b }, X = function (a) { return dc(a, bM) ? a[bM] : {} }, Y = function (a) { return dc(a, bM) } } var J = { set: W, get: X, has: Y, enforce: function (a) { return Y(a) ? X(a) : W(a, {}) }, getterFor: function (a) { return function (b) { var c; if (!da(b) || (c = X(b)).type !== a) throw de("Incompatible receiver, " + a + " required"); return c } } }, ae = r, aP = Function.prototype, bN = ae && Object.getOwnPropertyDescriptor, aQ = m(aP, "name"), bO = (aQ && (function () { }).name, aQ && (!ae || ae && bN(aP, "name").configurable)), di = a, dj = c, dk = m, dl = v, dm = U, dn = aM, dp = bO, dq = J.get, dr = J.enforce, ds = String(String).split("String"); (z.exports = function (e, c, a, b) { var g, h = !!b && !!b.unsafe, f = !!b && !!b.enumerable, i = !!b && !!b.noTargetGet, d = b && void 0 !== b.name ? b.name : c; dj(a) && ("Symbol(" === String(d).slice(0, 7) && (d = "[" + String(d).replace(/^Symbol\(([^)]*)\)/, "$1") + "]"), (!dk(a, "name") || dp && a.name !== d) && dl(a, "name", d), (g = dr(a)).source || (g.source = ds.join("string" == typeof d ? d : ""))), e !== di ? (h ? !i && e[c] && (f = !0) : delete e[c], f ? e[c] = a : dl(e, c, a)) : f ? e[c] = a : dm(c, a) })(Function.prototype, "toString", function () { return dj(this) && dq(this).source || dn(this) }); var aR = {}, dt = Math.ceil, du = Math.floor, aS = function (b) { var a = +b; return a != a || 0 === a ? 0 : (a > 0 ? du : dt)(a) }, dv = aS, dw = Math.max, dx = Math.min, dy = aS, dz = Math.min, aT = function (b) { var a; return (a = b.length) > 0 ? dz(dy(a), 9007199254740991) : 0 }, dA = G, dB = function (c, b) { var a = dv(c); return a < 0 ? dw(a + b, 0) : dx(a, b) }, dC = aT, aU = function (a) { return function (g, d, h) { var f, c = dA(g), e = dC(c), b = dB(h, e); if (a && d != d) { for (; e > b;)if ((f = c[b++]) != f) return !0 } else for (; e > b; b++)if ((a || b in c) && c[b] === d) return a || b || 0; return !a && -1 } }, bP = { includes: aU(!0), indexOf: aU(!1) }, dD = m, dE = G, dF = bP.indexOf, dG = aa, dH = f([].push), aV = function (f, d) { var a, c = dE(f), e = 0, b = []; for (a in c) !dD(dG, a) && dD(c, a) && dH(b, a); for (; d.length > e;)dD(c, a = d[e++]) && (~dF(b, a) || dH(b, a)); return b }, af = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"], dI = aV, dJ = af.concat("length", "prototype"); aR.f = Object.getOwnPropertyNames || function (a) { return dI(a, dJ) }; var aW = {}; aW.f = Object.getOwnPropertySymbols; var dK = aR, dL = aW, dM = b, dN = f([].concat), bQ = s("Reflect", "ownKeys") || function (a) { var b = dK.f(dM(a)), c = dL.f; return c ? dN(b, c(a)) : b }, dO = m, dP = bQ, dQ = P, dR = I, dS = h, dT = c, dU = /#|\.prototype\./, A = function (c, a) { var b = dW[dV(c)]; return b == dY || b != dX && (dT(a) ? dS(a) : !!a) }, dV = A.normalize = function (a) { return String(a).replace(dU, ".").toLowerCase() }, dW = A.data = {}, dX = A.NATIVE = "N", dY = A.POLYFILL = "P", dZ = a, d$ = P.f, d_ = v, d0 = z.exports, d1 = U, d2 = function (c, d, e) { for (var f = dP(d), g = dR.f, h = dQ.f, b = 0; b < f.length; b++) { var a = f[b]; dO(c, a) || e && dO(e, a) || g(c, a, h(d, a)) } }, d3 = A, k = function (a, g) { var e, b, c, d, h, f = a.target, i = a.global, j = a.stat; if (e = i ? dZ : j ? dZ[f] || d1(f, {}) : (dZ[f] || {}).prototype) for (b in g) { if (d = g[b], c = a.noTargetGet ? (h = d$(e, b)) && h.value : e[b], !d3(i ? b : f + (j ? "." : "#") + b, a.forced) && void 0 !== c) { if (typeof d == typeof c) continue; d2(d, c) } (a.sham || c && c.sham) && d_(d, "sham", !0), d0(e, b, d, a) } }, d4 = i, d5 = g, d6 = b, d7 = s, d8 = u, d9 = a.TypeError, B = function (a) { var b = 0 == a, c = 1 == a, d = 2 == a, e = 3 == a; return function (a, f, i) { d6(a); var g = d7("Promise"), j = d5(a.next), k = 0, h = void 0 !== f; return !h && b || d5(f), new g(function (m, n) { var o = function (c, d) { try { var b = d8(a, "return"); if (b) return g.resolve(d4(b, a)).then(function () { c(d) }, function (a) { n(a) }) } catch (e) { return n(e) } c(d) }, p = function (a) { o(n, a) }, l = function () { try { if (b && k > 9007199254740991 && h) throw d9("The allowed number of iterations has been exceeded"); g.resolve(d6(d4(j, a))).then(function (j) { try { if (d6(j).done) b ? (i.length = k, m(i)) : m(!e && (d || void 0)); else { var a = j.value; h ? g.resolve(b ? f(a, k) : f(a)).then(function (f) { c ? l() : d ? f ? l() : o(m, !1) : b ? (i[k++] = f, l()) : f ? o(m, e || a) : l() }, p) : (i[k++] = a, l()) } } catch (n) { p(n) } }, p) } catch (n) { p(n) } }; l() }) } }, aX = { toArray: B(0), forEach: B(1), every: B(2), some: B(3), find: B(4) }, ea = aX.forEach; k({ target: "AsyncIterator", proto: !0, real: !0, forced: !0 }, { forEach: function (a) { return ea(this, a) } }); var eb = Q, ec = a.TypeError, aY = {}, ed = aV, ee = af, bR = Object.keys || function (a) { return ed(a, ee) }, ef = I, eg = b, eh = G, ei = bR; aY.f = r && !aK ? Object.defineProperties : function (a, b) { eg(a); for (var c, f = eh(b), d = ei(b), g = d.length, e = 0; g > e;)ef.f(a, c = d[e++], f[c]); return a }; var ej, bS = s("document", "documentElement"), ek = b, el = aY, em = af, bT = aa, en = bS, eo = aI, bU = Z("IE_PROTO"), ep = function () { }, eq = function (a) { return "<script>" + a + "</script>" }, er = function (a) { a.write(eq("")), a.close(); var b = a.parentWindow.Object; return a = null, b }, es = function () { try { ej = new ActiveXObject("htmlfile") } catch (b) { } es = "undefined" != typeof document ? document.domain && ej ? er(ej) : ((d = eo("iframe")).style.display = "none", en.appendChild(d), d.src = String("javascript:"), (c = d.contentWindow.document).open(), c.write(eq("document.F=Object")), c.close(), c.F) : er(ej); for (var c, d, a = em.length; a--;)delete es.prototype[em[a]]; return es() }; bT[bU] = !0; var w, aZ, a$, a_ = Object.create || function (b, c) { var a; return null !== b ? (ep.prototype = ek(b), a = new ep, ep.prototype = null, a[bU] = b) : a = es(), void 0 === c ? a : el.f(a, c) }, bV = !h(function () { function a() { } return a.prototype.constructor = null, Object.getPrototypeOf(new a) !== a.prototype }), et = m, eu = c, ev = aD, ew = Z("IE_PROTO"), a0 = a.Object, ex = a0.prototype, a1 = bV ? a0.getPrototypeOf : function (c) { var a = ev(c); if (et(a, ew)) return a[ew]; var b = a.constructor; return eu(b) && a instanceof b ? b.prototype : a instanceof a0 ? ex : null }, a2 = a1, bW = z.exports, a3 = j("iterator"), a4 = !1;[].keys && ("next" in (a$ = [].keys()) ? (aZ = a2(a2(a$))) !== Object.prototype && (w = aZ) : a4 = !0), (null == w || h(function () { var a = {}; return w[a3].call(a) !== a })) && (w = {}), c(w[a3]) || bW(w, a3, function () { return this }); var a5 = { IteratorPrototype: w, BUGGY_SAFARI_ITERATORS: a4 }, ey = function (a, b) { if (eb(b, a)) return a; throw ec("Incorrect invocation") }, a6 = v, a7 = m, t = a5.IteratorPrototype, a8 = j("toStringTag"), a9 = a.Iterator, ba = !c(a9) || a9.prototype !== t || !h(function () { a9({}) }), ag = function () { ey(this, t) }; a7(t, a8) || a6(t, a8, "Iterator"), !ba && a7(t, "constructor") && t.constructor !== Object || a6(t, "constructor", ag), ag.prototype = t, k({ global: !0, forced: ba }, { Iterator: ag }); var ez = g, eA = E, eB = f(f.bind), bb = {}, eC = bb, eD = j("iterator"), eE = Array.prototype, bc = {}; bc[j("toStringTag")] = "z"; var bX = "[object z]" === String(bc), eF = c, bd = at, eG = j("toStringTag"), eH = a.Object, eI = "Arguments" == bd(function () { return arguments }()), eJ = bX ? bd : function (b) { var a, c, d; return void 0 === b ? "Undefined" : null === b ? "Null" : "string" == typeof (c = function (a, b) { try { return a[b] } catch (c) { } }(a = eH(b), eG)) ? c : eI ? bd(a) : "Object" == (d = bd(a)) && eF(a.callee) ? "Arguments" : d }, eK = u, eL = bb, eM = j("iterator"), be = function (a) { if (null != a) return eK(a, eM) || eK(a, "@@iterator") || eL[eJ(a)] }, eN = i, eO = g, eP = b, eQ = S, eR = be, eS = a.TypeError, eT = i, eU = b, eV = u, bf = function (c, d, b) { var a, e; eU(c); try { if (!(a = eV(c, "return"))) { if ("throw" === d) throw b; return b } a = eT(a, c) } catch (f) { e = !0, a = f } if ("throw" === d) throw b; if (e) throw a; return eU(a), b }, eW = function (a, b) { return ez(a), void 0 === b ? a : eA ? eB(a, b) : function () { return a.apply(b, arguments) } }, eX = i, eY = b, eZ = S, e$ = aT, e_ = Q, e0 = function (a, c) { var b = arguments.length < 2 ? eR(a) : c; if (eO(b)) return eP(eN(b, a)); throw eS(eQ(a) + " is not iterable") }, e1 = be, e2 = bf, e3 = a.TypeError, bY = function (a, b) { this.stopped = a, this.result = b }, e4 = bY.prototype, ah = function (c, l, a) { var f, d, g, e, h, b, i, j, m = a && a.that, p = !(!a || !a.AS_ENTRIES), n = !(!a || !a.IS_ITERATOR), q = !(!a || !a.INTERRUPTED), r = eW(l, m), s = function (a) { return d && e2(d, "normal", a), new bY(!0, a) }, k = function (a) { return p ? (eY(a), q ? r(a[0], a[1], s) : r(a[0], a[1])) : q ? r(a, s) : r(a) }; if (n) d = c; else { if (!(g = e1(c))) throw e3(eZ(c) + " is not iterable"); if (void 0 !== (f = g) && (eC.Array === f || eE[eD] === f)) { for (e = 0, h = e$(c); h > e; e++)if ((b = k(c[e])) && e_(e4, b)) return b; return new bY(!1) } d = e0(c, g) } for (i = d.next; !(j = eX(i, d)).done;) { try { b = k(j.value) } catch (o) { e2(d, "throw", o) } if ("object" == typeof b && b && e_(e4, b)) return b } return new bY(!1) }, e5 = ah, e6 = b; k({ target: "Iterator", proto: !0, real: !0, forced: !0 }, { forEach: function (a) { e5(e6(this), a, { IS_ITERATOR: !0 }) } }); var p = new class { constructor() { this.events = [] } on(a, b, c) { let d = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]; (this.events[a] || (this.events[a] = [])).push({ cb: b, context: c, once: d }) } once(a, b, c) { this.on(a, b, c, !0) } emit(a) { let b = this, c = [].slice.call(arguments, 1); this.events[a] && this.events[a].forEach((d, e) => { d.cb.apply(d.context, c), d.once && delete b.events[a][e] }) } off(a, b) { let c = this; this.events[a] && this.events[a].forEach((d, e) => { d.cb === b && delete c.events[a][e] }) } }; class e7 { static isArray(a) { return a && "object" == typeof a && Array.isArray(a) } static isObject(a) { return a && "object" == typeof a && !Array.isArray(a) } static isString(a) { return a && "string" == typeof a } static mergeDeep(a, b) { let c = Object.assign({}, a); return e7.isObject(a) && e7.isObject(b) && Object.keys(b).forEach(d => { e7.isObject(b[d]) && d in a ? e7.isObject(a[d]) && e7.isObject(b[d]) ? c[d] = e7.mergeDeep(a[d], b[d]) : c[d] = b[d] : Object.assign(c, { [d]: b[d] }) }), c } static toCamelCase(a) { return e7.isString(a) ? a.replace(/(?:^\w|[A-Z]|\b\w)/g, (a, b) => 0 === b ? a.toLowerCase() : a.toUpperCase()).replace(/\W+/g, "") : a } static toUpperCamelCase(a) { return e7.isString(a) ? (a = e7.toCamelCase(a)).charAt(0).toUpperCase() + a.slice(1) : a } static isInPage(a) { return a !== document.body && document.body.contains(a) } } var l = new class { constructor() { this.eventsName = ["siteInit", "pageInit", "siteLoad", "pageLoad", "siteIn", "pageIn", "reveal", "pageFetch", "pageOut", "pageCreate", "pageKill", "siteReload"], this.events = {}, this.eventsName.forEach(a => { this.events[a] = { callbacks: [], done: 0 } }), this.cycles = { load: { events: ["siteInit", "pageInit", ["siteLoad", "pageLoad"], "siteIn", "pageIn", "reveal"] }, reload: { events: ["pageOut", "siteReload"] }, transition: { events: [["pageFetch", "pageOut"], "pageCreate", "pageKill", "pageInit", "pageLoad", "pageIn", "reveal"] }, refresh: { events: ["pageKill", "pageInit", "pageLoad", "pageIn", "reveal"] } }, this.debug = !1 } cycle(a) { if (this.cycles[a]) { for (let b in this.cycles[a].current = 0, this.debug && console.log("Start cycle: " + a), this.events) this.events[b].done = 0; this.proceed(a) } } proceed(a) { let c = this.cycles[a].events, d = this.cycles[a].current; if (d < c.length) { let b = c[d]; Array.isArray(b) ? b.forEach(b => { this.do(a, b) }) : this.do(a, b) } else this.debug && console.log(a + " cycle ended") } next(a) { let g = this, c = this.cycles[a].events, d = this.cycles[a].current; if (d < c.length) { let b = c[d], f = !0, e = []; (e = "string" == typeof b ? Array(b) : b).length > 1 && e.forEach(a => { (0 === g.events[a].done || g.events[a].done < g.events[a].callbacks.length) && (f = !1) }), f && (this.cycles[a].current++, requestAnimationFrame(this.proceed.bind(this, a))) } } add(a, b) { let c = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 10, d = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null; this.events[a] && this.events[a].callbacks.push({ callback: b, position: c, cycle: d }) } remove(a, b) { let c = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, d = this; this.events[a] && this.events[a].callbacks.forEach((e, f) => { e.callback === b && e.cycle === c && delete d.events[a].callbacks[f] }) } do(b, a) { (this.events[a].done = 0, this.events[a].callbacks.length > 0) ? (this.debug && console.log("Do event: " + a + " (" + b + " cycle)"), p.emit(e7.toCamelCase("before-" + a)), this.events[a].callbacks.sort((a, b) => a.position - b.position).forEach(c => { null === c.cycle || c.cycle === b ? c.callback(() => this.done(b, a)) : this.done(b, a) })) : this.done(b, a) } done(b, a) { this.events[a].done++, this.debug && console.log("Done event: " + a + " " + this.events[a].done + "/" + this.events[a].callbacks.length + " (" + b + " cycle)"), p.emit(e7.toCamelCase("after-" + a)), this.events[a].done >= this.events[a].callbacks.length && this.next(b, a) } enableDebug() { let a = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]; this.debug = a } }; let e8 = { "Amazon Silk": "amazon_silk", "Android Browser": "android", Bada: "bada", BlackBerry: "blackberry", Chrome: "chrome", Chromium: "chromium", Electron: "electron", Epiphany: "epiphany", Firefox: "firefox", Focus: "focus", Generic: "generic", "Google Search": "google_search", Googlebot: "googlebot", "Internet Explorer": "ie", "K-Meleon": "k_meleon", Maxthon: "maxthon", "Microsoft Edge": "edge", "MZ Browser": "mz", "NAVER Whale Browser": "naver", Opera: "opera", "Opera Coast": "opera_coast", PhantomJS: "phantomjs", Puffin: "puffin", QupZilla: "qupzilla", QQ: "qq", QQLite: "qqlite", Safari: "safari", Sailfish: "sailfish", "Samsung Internet for Android": "samsung_internet", SeaMonkey: "seamonkey", Sleipnir: "sleipnir", Swing: "swing", Tizen: "tizen", "UC Browser": "uc", Vivaldi: "vivaldi", "WebOS Browser": "webos", WeChat: "wechat", "Yandex Browser": "yandex", Roku: "roku" }, e9 = { amazon_silk: "Amazon Silk", android: "Android Browser", bada: "Bada", blackberry: "BlackBerry", chrome: "Chrome", chromium: "Chromium", electron: "Electron", epiphany: "Epiphany", firefox: "Firefox", focus: "Focus", generic: "Generic", googlebot: "Googlebot", google_search: "Google Search", ie: "Internet Explorer", k_meleon: "K-Meleon", maxthon: "Maxthon", edge: "Microsoft Edge", mz: "MZ Browser", naver: "NAVER Whale Browser", opera: "Opera", opera_coast: "Opera Coast", phantomjs: "PhantomJS", puffin: "Puffin", qupzilla: "QupZilla", qq: "QQ Browser", qqlite: "QQ Browser Lite", safari: "Safari", sailfish: "Sailfish", samsung_internet: "Samsung Internet for Android", seamonkey: "SeaMonkey", sleipnir: "Sleipnir", swing: "Swing", tizen: "Tizen", uc: "UC Browser", vivaldi: "Vivaldi", webos: "WebOS Browser", wechat: "WeChat", yandex: "Yandex Browser" }, fa = { tablet: "tablet", mobile: "mobile", desktop: "desktop", tv: "tv" }, fb = { WindowsPhone: "Windows Phone", Windows: "Windows", MacOS: "macOS", iOS: "iOS", Android: "Android", WebOS: "WebOS", BlackBerry: "BlackBerry", Bada: "Bada", Tizen: "Tizen", Linux: "Linux", ChromeOS: "Chrome OS", PlayStation4: "PlayStation 4", Roku: "Roku" }, fc = { EdgeHTML: "EdgeHTML", Blink: "Blink", Trident: "Trident", Presto: "Presto", Gecko: "Gecko", WebKit: "WebKit" }; class fd { static getFirstMatch(b, c) { let a = c.match(b); return a && a.length > 0 && a[1] || "" } static getSecondMatch(b, c) { let a = c.match(b); return a && a.length > 1 && a[2] || "" } static matchAndReturnConst(a, b, c) { if (a.test(b)) return c } static getWindowsVersionName(a) { switch (a) { case "NT": return "NT"; case "XP": case "NT 5.1": return "XP"; case "NT 5.0": return "2000"; case "NT 5.2": return "2003"; case "NT 6.0": return "Vista"; case "NT 6.1": return "7"; case "NT 6.2": return "8"; case "NT 6.3": return "8.1"; case "NT 10.0": return "10"; default: return } } static getMacOSVersionName(b) { let a = b.split(".").splice(0, 2).map(a => parseInt(a, 10) || 0); if (a.push(0), 10 === a[0]) switch (a[1]) { case 5: return "Leopard"; case 6: return "Snow Leopard"; case 7: return "Lion"; case 8: return "Mountain Lion"; case 9: return "Mavericks"; case 10: return "Yosemite"; case 11: return "El Capitan"; case 12: return "Sierra"; case 13: return "High Sierra"; case 14: return "Mojave"; case 15: return "Catalina"; default: return } } static getAndroidVersionName(b) { let a = b.split(".").splice(0, 2).map(a => parseInt(a, 10) || 0); if (a.push(0), !(1 === a[0] && a[1] < 5)) return 1 === a[0] && a[1] < 6 ? "Cupcake" : 1 === a[0] && a[1] >= 6 ? "Donut" : 2 === a[0] && a[1] < 2 ? "Eclair" : 2 === a[0] && 2 === a[1] ? "Froyo" : 2 === a[0] && a[1] > 2 ? "Gingerbread" : 3 === a[0] ? "Honeycomb" : 4 === a[0] && a[1] < 1 ? "Ice Cream Sandwich" : 4 === a[0] && a[1] < 4 ? "Jelly Bean" : 4 === a[0] && a[1] >= 4 ? "KitKat" : 5 === a[0] ? "Lollipop" : 6 === a[0] ? "Marshmallow" : 7 === a[0] ? "Nougat" : 8 === a[0] ? "Oreo" : 9 === a[0] ? "Pie" : void 0 } static getVersionPrecision(a) { return a.split(".").length } static compareVersions(d, e, h = !1) { let f = fd.getVersionPrecision(d), g = fd.getVersionPrecision(e), a = Math.max(f, g), c = 0, b = fd.map([d, e], b => { let c = a - fd.getVersionPrecision(b), d = b + new Array(c + 1).join(".0"); return fd.map(d.split("."), a => new Array(20 - a.length).join("0") + a).reverse() }); for (h && (c = a - Math.min(f, g)), a -= 1; a >= c;) { if (b[0][a] > b[1][a]) return 1; if (b[0][a] === b[1][a]) { if (a === c) return 0; a -= 1 } else if (b[0][a] < b[1][a]) return -1 } } static map(b, c) { let d = [], a; if (Array.prototype.map) return Array.prototype.map.call(b, c); for (a = 0; a < b.length; a += 1)d.push(c(b[a])); return d } static find(b, c) { let a, d; if (Array.prototype.find) return Array.prototype.find.call(b, c); for (a = 0, d = b.length; a < d; a += 1) { let e = b[a]; if (c(e, a)) return e } } static assign(b, ...c) { let f = b, a, e; if (Object.assign) return Object.assign(b, ...c); for (a = 0, e = c.length; a < e; a += 1) { let d = c[a]; "object" == typeof d && null !== d && Object.keys(d).forEach(a => { f[a] = d[a] }) } return b } static getBrowserAlias(a) { return e8[a] } static getBrowserTypeByAlias(a) { return e9[a] || "" } } let fe = /version\/(\d+(\.?_?\d+)+)/i, ff = [{ test: [/googlebot/i], describe(a) { let b = { name: "Googlebot" }, c = fd.getFirstMatch(/googlebot\/(\d+(\.\d+))/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/opera/i], describe(a) { let b = { name: "Opera" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/opr\/|opios/i], describe(a) { let b = { name: "Opera" }, c = fd.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/SamsungBrowser/i], describe(a) { let b = { name: "Samsung Internet for Android" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/Whale/i], describe(a) { let b = { name: "NAVER Whale Browser" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/MZBrowser/i], describe(a) { let b = { name: "MZ Browser" }, c = fd.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/focus/i], describe(a) { let b = { name: "Focus" }, c = fd.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/swing/i], describe(a) { let b = { name: "Swing" }, c = fd.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/coast/i], describe(a) { let b = { name: "Opera Coast" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/opt\/\d+(?:.?_?\d+)+/i], describe(a) { let b = { name: "Opera Touch" }, c = fd.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/yabrowser/i], describe(a) { let b = { name: "Yandex Browser" }, c = fd.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/ucbrowser/i], describe(a) { let b = { name: "UC Browser" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/Maxthon|mxios/i], describe(a) { let b = { name: "Maxthon" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/epiphany/i], describe(a) { let b = { name: "Epiphany" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/puffin/i], describe(a) { let b = { name: "Puffin" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/sleipnir/i], describe(a) { let b = { name: "Sleipnir" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/k-meleon/i], describe(a) { let b = { name: "K-Meleon" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/micromessenger/i], describe(a) { let b = { name: "WeChat" }, c = fd.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/qqbrowser/i], describe(a) { let b = { name: /qqbrowserlite/i.test(a) ? "QQ Browser Lite" : "QQ Browser" }, c = fd.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/msie|trident/i], describe(c) { let a = { name: "Internet Explorer" }, b = fd.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/\sedg\//i], describe(c) { let a = { name: "Microsoft Edge" }, b = fd.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/edg([ea]|ios)/i], describe(c) { let a = { name: "Microsoft Edge" }, b = fd.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/vivaldi/i], describe(c) { let a = { name: "Vivaldi" }, b = fd.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/seamonkey/i], describe(c) { let a = { name: "SeaMonkey" }, b = fd.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/sailfish/i], describe(c) { let a = { name: "Sailfish" }, b = fd.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i, c); return b && (a.version = b), a } }, { test: [/silk/i], describe(c) { let a = { name: "Amazon Silk" }, b = fd.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/phantom/i], describe(c) { let a = { name: "PhantomJS" }, b = fd.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/slimerjs/i], describe(c) { let a = { name: "SlimerJS" }, b = fd.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/blackberry|\bbb\d+/i, /rim\stablet/i], describe(a) { let b = { name: "BlackBerry" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/(web|hpw)[o0]s/i], describe(a) { let b = { name: "WebOS Browser" }, c = fd.getFirstMatch(fe, a) || fd.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i, a); return c && (b.version = c), b } }, { test: [/bada/i], describe(c) { let a = { name: "Bada" }, b = fd.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/tizen/i], describe(a) { let b = { name: "Tizen" }, c = fd.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/qupzilla/i], describe(a) { let b = { name: "QupZilla" }, c = fd.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/firefox|iceweasel|fxios/i], describe(c) { let a = { name: "Firefox" }, b = fd.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/electron/i], describe(c) { let a = { name: "Electron" }, b = fd.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/MiuiBrowser/i], describe(c) { let a = { name: "Miui" }, b = fd.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/chromium/i], describe(a) { let b = { name: "Chromium" }, c = fd.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i, a) || fd.getFirstMatch(fe, a); return c && (b.version = c), b } }, { test: [/chrome|crios|crmo/i], describe(c) { let a = { name: "Chrome" }, b = fd.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/GSA/i], describe(c) { let a = { name: "Google Search" }, b = fd.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test(a) { let b = !a.test(/like android/i), c = a.test(/android/i); return b && c }, describe(c) { let a = { name: "Android Browser" }, b = fd.getFirstMatch(fe, c); return b && (a.version = b), a } }, { test: [/playstation 4/i], describe(c) { let a = { name: "PlayStation 4" }, b = fd.getFirstMatch(fe, c); return b && (a.version = b), a } }, { test: [/safari|applewebkit/i], describe(c) { let a = { name: "Safari" }, b = fd.getFirstMatch(fe, c); return b && (a.version = b), a } }, { test: [/.*/i], describe(a) { let b = -1 !== a.search("\\(") ? /^(.*)\/(.*)[ \t]\((.*)/ : /^(.*)\/(.*) /; return { name: fd.getFirstMatch(b, a), version: fd.getSecondMatch(b, a) } } },]; var fg = [{ test: [/Roku\/DVP/], describe(a) { let b = fd.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i, a); return { name: fb.Roku, version: b } } }, { test: [/windows phone/i], describe(a) { let b = fd.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i, a); return { name: fb.WindowsPhone, version: b } } }, { test: [/windows /i], describe(b) { let a = fd.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i, b), c = fd.getWindowsVersionName(a); return { name: fb.Windows, version: a, versionName: c } } }, { test: [/Macintosh(.*?) FxiOS(.*?)\//], describe(c) { let a = { name: fb.iOS }, b = fd.getSecondMatch(/(Version\/)(\d[\d.]+)/, c); return b && (a.version = b), a } }, { test: [/macintosh/i], describe(d) { let a = fd.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i, d).replace(/[_\s]/g, "."), b = fd.getMacOSVersionName(a), c = { name: fb.MacOS, version: a }; return b && (c.versionName = b), c } }, { test: [/(ipod|iphone|ipad)/i], describe(a) { let b = fd.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i, a).replace(/[_\s]/g, "."); return { name: fb.iOS, version: b } } }, { test(a) { let b = !a.test(/like android/i), c = a.test(/android/i); return b && c }, describe(d) { let a = fd.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i, d), b = fd.getAndroidVersionName(a), c = { name: fb.Android, version: a }; return b && (c.versionName = b), c } }, { test: [/(web|hpw)[o0]s/i], describe(c) { let a = fd.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i, c), b = { name: fb.WebOS }; return a && a.length && (b.version = a), b } }, { test: [/blackberry|\bbb\d+/i, /rim\stablet/i], describe(a) { let b = fd.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i, a) || fd.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i, a) || fd.getFirstMatch(/\bbb(\d+)/i, a); return { name: fb.BlackBerry, version: b } } }, { test: [/bada/i], describe(a) { let b = fd.getFirstMatch(/bada\/(\d+(\.\d+)*)/i, a); return { name: fb.Bada, version: b } } }, { test: [/tizen/i], describe(a) { let b = fd.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i, a); return { name: fb.Tizen, version: b } } }, { test: [/linux/i], describe: () => ({ name: fb.Linux }) }, { test: [/CrOS/], describe: () => ({ name: fb.ChromeOS }) }, { test: [/PlayStation 4/], describe(a) { let b = fd.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i, a); return { name: fb.PlayStation4, version: b } } },], fh = [{ test: [/googlebot/i], describe: () => ({ type: "bot", vendor: "Google" }) }, { test: [/huawei/i], describe(c) { let a = fd.getFirstMatch(/(can-l01)/i, c) && "Nova", b = { type: fa.mobile, vendor: "Huawei" }; return a && (b.model = a), b } }, { test: [/nexus\s*(?:7|8|9|10).*/i], describe: () => ({ type: fa.tablet, vendor: "Nexus" }) }, { test: [/ipad/i], describe: () => ({ type: fa.tablet, vendor: "Apple", model: "iPad" }) }, { test: [/Macintosh(.*?) FxiOS(.*?)\//], describe: () => ({ type: fa.tablet, vendor: "Apple", model: "iPad" }) }, { test: [/kftt build/i], describe: () => ({ type: fa.tablet, vendor: "Amazon", model: "Kindle Fire HD 7" }) }, { test: [/silk/i], describe: () => ({ type: fa.tablet, vendor: "Amazon" }) }, { test: [/tablet(?! pc)/i], describe: () => ({ type: fa.tablet }) }, { test(a) { let b = a.test(/ipod|iphone/i), c = a.test(/like (ipod|iphone)/i); return b && !c }, describe(a) { let b = fd.getFirstMatch(/(ipod|iphone)/i, a); return { type: fa.mobile, vendor: "Apple", model: b } } }, { test: [/nexus\s*[0-6].*/i, /galaxy nexus/i], describe: () => ({ type: fa.mobile, vendor: "Nexus" }) }, { test: [/[^-]mobi/i], describe: () => ({ type: fa.mobile }) }, { test: a => "blackberry" === a.getBrowserName(!0), describe: () => ({ type: fa.mobile, vendor: "BlackBerry" }) }, { test: a => "bada" === a.getBrowserName(!0), describe: () => ({ type: fa.mobile }) }, { test: a => "windows phone" === a.getBrowserName(), describe: () => ({ type: fa.mobile, vendor: "Microsoft" }) }, { test(a) { let b = Number(String(a.getOSVersion()).split(".")[0]); return "android" === a.getOSName(!0) && b >= 3 }, describe: () => ({ type: fa.tablet }) }, { test: a => "android" === a.getOSName(!0), describe: () => ({ type: fa.mobile }) }, { test: a => "macos" === a.getOSName(!0), describe: () => ({ type: fa.desktop, vendor: "Apple" }) }, { test: a => "windows" === a.getOSName(!0), describe: () => ({ type: fa.desktop }) }, { test: a => "linux" === a.getOSName(!0), describe: () => ({ type: fa.desktop }) }, { test: a => "playstation 4" === a.getOSName(!0), describe: () => ({ type: fa.tv }) }, { test: a => "roku" === a.getOSName(!0), describe: () => ({ type: fa.tv }) },], fi = [{ test: a => "microsoft edge" === a.getBrowserName(!0), describe(a) { if (/\sedg\//i.test(a)) return { name: fc.Blink }; let b = fd.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i, a); return { name: fc.EdgeHTML, version: b } } }, { test: [/trident/i], describe(c) { let a = { name: fc.Trident }, b = fd.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: a => a.test(/presto/i), describe(c) { let a = { name: fc.Presto }, b = fd.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test(a) { let b = a.test(/gecko/i), c = a.test(/like gecko/i); return b && !c }, describe(c) { let a = { name: fc.Gecko }, b = fd.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } }, { test: [/(apple)?webkit\/537\.36/i], describe: () => ({ name: fc.Blink }) }, { test: [/(apple)?webkit/i], describe(c) { let a = { name: fc.WebKit }, b = fd.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i, c); return b && (a.version = b), a } },]; class fj { constructor(a, b = !1) { if (null == a || "" === a) throw new Error("UserAgent parameter can't be empty"); this._ua = a, this.parsedResult = {}, !0 !== b && this.parse() } getUA() { return this._ua } test(a) { return a.test(this._ua) } parseBrowser() { this.parsedResult.browser = {}; let a = fd.find(ff, a => { if ("function" == typeof a.test) return a.test(this); if (a.test instanceof Array) return a.test.some(a => this.test(a)); throw new Error("Browser's test function is not valid") }); return a && (this.parsedResult.browser = a.describe(this.getUA())), this.parsedResult.browser } getBrowser() { return this.parsedResult.browser ? this.parsedResult.browser : this.parseBrowser() } getBrowserName(a) { return a ? String(this.getBrowser().name).toLowerCase() || "" : this.getBrowser().name || "" } getBrowserVersion() { return this.getBrowser().version } getOS() { return this.parsedResult.os ? this.parsedResult.os : this.parseOS() } parseOS() { this.parsedResult.os = {}; let a = fd.find(fg, a => { if ("function" == typeof a.test) return a.test(this); if (a.test instanceof Array) return a.test.some(a => this.test(a)); throw new Error("Browser's test function is not valid") }); return a && (this.parsedResult.os = a.describe(this.getUA())), this.parsedResult.os } getOSName(b) { let { name: a } = this.getOS(); return b ? String(a).toLowerCase() || "" : a || "" } getOSVersion() { return this.getOS().version } getPlatform() { return this.parsedResult.platform ? this.parsedResult.platform : this.parsePlatform() } getPlatformType(b = !1) { let { type: a } = this.getPlatform(); return b ? String(a).toLowerCase() || "" : a || "" } parsePlatform() { this.parsedResult.platform = {}; let a = fd.find(fh, a => { if ("function" == typeof a.test) return a.test(this); if (a.test instanceof Array) return a.test.some(a => this.test(a)); throw new Error("Browser's test function is not valid") }); return a && (this.parsedResult.platform = a.describe(this.getUA())), this.parsedResult.platform } getEngine() { return this.parsedResult.engine ? this.parsedResult.engine : this.parseEngine() } getEngineName(a) { return a ? String(this.getEngine().name).toLowerCase() || "" : this.getEngine().name || "" } parseEngine() { this.parsedResult.engine = {}; let a = fd.find(fi, a => { if ("function" == typeof a.test) return a.test(this); if (a.test instanceof Array) return a.test.some(a => this.test(a)); throw new Error("Browser's test function is not valid") }); return a && (this.parsedResult.engine = a.describe(this.getUA())), this.parsedResult.engine } parse() { return this.parseBrowser(), this.parseOS(), this.parsePlatform(), this.parseEngine(), this } getResult() { return fd.assign({}, this.parsedResult) } satisfies(i) { let a = {}, j = 0, b = {}, k = 0; if (Object.keys(i).forEach(d => { let c = i[d]; "string" == typeof c ? (b[d] = c, k += 1) : "object" == typeof c && (a[d] = c, j += 1) }), j > 0) { let c = Object.keys(a), d = fd.find(c, a => this.isOS(a)); if (d) { let e = this.satisfies(a[d]); if (void 0 !== e) return e } let f = fd.find(c, a => this.isPlatform(a)); if (f) { let g = this.satisfies(a[f]); if (void 0 !== g) return g } } if (k > 0) { let l = Object.keys(b), h = fd.find(l, a => this.isBrowser(a, !0)); if (void 0 !== h) return this.compareVersion(b[h]) } } isBrowser(c, d = !1) { let e = this.getBrowserName().toLowerCase(), a = c.toLowerCase(), b = fd.getBrowserTypeByAlias(a); return d && b && (a = b.toLowerCase()), a === e } compareVersion(a) { let c = [0], b = a, d = !1, e = this.getBrowserVersion(); if ("string" == typeof e) return ">" === a[0] || "<" === a[0] ? (b = a.substr(1), "=" === a[1] ? (d = !0, b = a.substr(2)) : c = [], ">" === a[0] ? c.push(1) : c.push(-1)) : "=" === a[0] ? b = a.substr(1) : "~" === a[0] && (d = !0, b = a.substr(1)), c.indexOf(fd.compareVersions(e, b, d)) > -1 } isOS(a) { return this.getOSName(!0) === String(a).toLowerCase() } isPlatform(a) { return this.getPlatformType(!0) === String(a).toLowerCase() } isEngine(a) { return this.getEngineName(!0) === String(a).toLowerCase() } is(a, b = !1) { return this.isBrowser(a, b) || this.isOS(a) || this.isPlatform(a) } some(a = []) { return a.some(a => this.is(a)) } }/*!
* Bowser - a browser detector
* https://github.com/lancedikson/bowser
* MIT License | (c) Dustin Diaz 2012-2015
* MIT License | (c) Denis Demchenko 2015-2019
*/ var bg = new class { constructor() { this.settings = { cursor: { disabled: ["tablet", "mobile"], inertia: 1, trailLength: 10 }, intersection: { threshold: .3 }, lottie: { renderer: "svg", subFrame: !0 }, mouse: { inertia: .1 }, parallax: { inertia: .1 }, preloader: { duration: 0 }, reveal: { stagger: .1, threshold: .15 }, scroll: { inertia: .1 }, smooth: { disabled: ["tablet", "mobile", { safari: "<=12" }], inertia: .1 }, sticky: { disabled: ["tablet", "mobile"] }, ticker: { external: !1 }, transition: { reload: !1 } }, this.timeouts = { resizeThrottle: null, scrollEnd: null }, this.windowWidth = 1, this.windowHeight = 1, this.clientWidth = 1, window.scrollTop = window.scrollY, window.unifiedScrollTop = window.scrollTop, window.maxScrollTop = 1, window.scrollProgress = 0, this.previousScrollTop = window.scrollY, this.isScrolling = !1, window.mouseX = -1, window.mouseY = -1, window.mouseLastScrollTop = 0, window.browser = (class { static getParser(a, b = !1) { if ("string" != typeof a) throw new Error("UserAgent should be a string"); return new fj(a, b) } static parse(a) { return new fj(a).getResult() } static get BROWSER_MAP() { return e9 } static get ENGINE_MAP() { return fc } static get OS_MAP() { return fb } static get PLATFORMS_MAP() { return fa } }).getParser(window.navigator.userAgent), document.documentElement.classList.add("is-" + window.browser.getPlatformType()), (window.browser.is("mobile") || window.browser.is("tablet")) && document.documentElement.classList.add("is-handheld"), window.browser.is("Safari") && (document.documentElement.classList.add("is-safari"), document.documentElement.classList.add("is-safari-" + window.browser.getBrowserVersion())), l.add("siteInit", this.siteInit.bind(this), 999), this.bindEvents() } setSettings(a) { this.settings = e7.mergeDeep(this.settings, a) } siteInit(a) { this.setCSSProperties(), this.scrollHandler(), a() } bindEvents() { window.addEventListener("mousemove", this.mouseHandler.bind(this), { passive: !0 }), window.addEventListener("resize", this.resizeThrottle.bind(this)), window.addEventListener("scroll", this.scrollHandler.bind(this), { passive: !0 }) } mouseHandler(a) { let b = a.pageX, c = a.pageY - window.scrollTop; window.mouseX = b, window.mouseY = c, p.emit("mouseMove", a) } resizeThrottle() { clearTimeout(this.timeouts.resizeThrottle), this.timeouts.resizeThrottle = setTimeout(this.resizeHandler.bind(this), 200) } resizeHandler() { this.setCSSProperties(), p.emit("resize") } setCSSProperties() { let a = window.innerWidth; this.windowWidth !== a && (this.windowWidth = a, this.clientWidth = document.body.clientWidth); let b = window.innerHeight; this.windowHeight !== b && (this.windowHeight = b, this.clientHeight = document.body.clientHeight), requestAnimationFrame(() => { document.documentElement.style.setProperty("--vw", .01 * this.windowWidth + "px"), document.documentElement.style.setProperty("--cw", .01 * this.clientWidth + "px"), document.documentElement.style.setProperty("--vh", .01 * this.windowHeight + "px"), document.documentElement.style.setProperty("--ch", .01 * this.clientHeight + "px") }) } scrollHandler() { window.scrollTop = window.scrollY, this.isScrolling || this.scrollStart(), clearTimeout(this.timeouts.scrollEnd), this.timeouts.scrollEnd = setTimeout(this.scrollEnd.bind(this), 200), this.previousScrollTop = window.scrollTop, window.scrollProgress = window.scrollTop / window.maxScrollTop, window.hasSmoothScroll || (window.unifiedScrollTop = window.scrollTop, p.emit("scroll")) } scrollStart() { this.isScrolling = !0, document.documentElement.classList.add("is-scrolling"), p.emit("scrollStart") } scrollEnd() { this.isScrolling = !1, document.documentElement.classList.remove("is-scrolling"), p.emit("scrollEnd") } }, K = new class { constructor() { this.elements = [], l.add("siteInit", this.init.bind(this), 20) } init(a) { this.createObserver(), a() } createObserver() { this.observer = new IntersectionObserver(this.intersectionCallback.bind(this), { threshold: [bg.settings.intersection.threshold] }) } intersectionCallback(a) { a.forEach(c => { let a = c.target, b = "in"; c.isIntersecting || (b = c.boundingClientRect.y <= 0 ? "above" : "under"), a.luge.viewport.position !== b && (a.luge.viewport.position = b, a.dispatchEvent(new CustomEvent("viewportintersect")), "in" === b ? a.dispatchEvent(new CustomEvent("viewportin")) : (a.dispatchEvent(new CustomEvent("viewportout")), a.dispatchEvent(new CustomEvent("viewport" + b)))) }) } add(a) { this.observer.observe(a), a.luge || (a.luge = {}), a.luge = e7.mergeDeep(a.luge, { viewport: { position: "out" } }) } remove(a) { this.observer.unobserve(a) } }, fk = Math.min, fl = Math.max; k({ target: "Math", stat: !0, forced: !0 }, { clamp: function (a, b, c) { return fk(c, fl(b, a)) } }); var n = new class { constructor() { this.callbacks = [], this.onceCallbacks = [], bg.settings.ticker.external || (this.fps = 60, this.fpsInterval = 1e3 / this.fps, this.lastTickTime = null, requestAnimationFrame(this.tick.bind(this))) } add(a, b) { let c = !1; this.callbacks.forEach(d => { d.cb === a && d.context === b && (c = !0) }), c || this.callbacks.push({ cb: a, context: b }) } remove(a, b) { let c = this; this.callbacks.forEach((d, e) => { d.cb === a && d.context === b && delete c.callbacks[e] }) } nextTick(a, b) { this.onceCallbacks.push({ cb: a, context: b }) } tick(a) { let c = this, b = a - this.lastTickTime; b > this.fpsInterval && (this.callbacks.forEach(b => { b.cb.apply(b.context, [a]) }), this.onceCallbacks.forEach((b, d) => { b.cb.apply(b.context, [a]), delete c.onceCallbacks[d] }), this.lastTickTime = a - b % this.fpsInterval), bg.settings.ticker.external || requestAnimationFrame(this.tick.bind(this)) } }, L = new class { constructor() { this.elements = [], this.elementsToBound = [], l.add("pageKill", this.pageKill.bind(this)), l.add("pageInit", this.init.bind(this), 20), n.add(this.tick, this), this.bindEvents() } bindEvents() { p.on("mouseMove", this.mouseHandler, this), p.on("resize", this.resizeHandler, this), p.on("update", this.updateHandler, this) } pageKill(a) { this.elements = [], this.elementsToBound = [], a() } init(a) { this.getBoundingThrottle(), a() } resizeHandler() { this.getBoundingThrottle() } updateHandler() { n.nextTick(() => { this.getBoundingThrottle() }, this) } mouseHandler() { let a = this; this.elements.forEach(b => { a.setElementPosition(b) }), window.mouseLastScrollTop = window.scrollTop } getBoundingThrottle() { this.elements.forEach(a => { this.elementsToBound.includes(a) || this.elementsToBound.push(a) }), n.nextTick(this.getBounding.bind(this)) } getBounding() { this.elementsToBound.forEach(a => { this.setElementBounding(a), this.setElementPosition(a) }), this.elementsToBound = [] } setElementBounding(a) { let c = a.getAttribute("style"); a.setAttribute("style", ""); let b = a.getBoundingClientRect(), d = { anchor: { x: b.left, y: b.top + window.unifiedScrollTop }, width: a.offsetWidth, height: a.offsetHeight }; a.luge || (a.luge = {}), a.luge = e7.mergeDeep(a.luge, d), a.setAttribute("style", c) } setElementPosition(a) { if (a.luge && a.luge.anchor) { let b = { x: window.mouseX - a.luge.anchor.x, y: window.mouseY - a.luge.anchor.y + window.unifiedScrollTop }; b.progressX = Math.clamp(b.x / a.luge.width, 0, 1), b.progressY = Math.clamp(b.y / a.luge.height, 0, 1), a.luge.mouse = e7.mergeDeep(a.luge.mouse, b) } } add(a) { this.elements.includes(a) || (this.elementsToBound.includes(a) || this.elementsToBound.push(a), this.elements.push(a)) } remove(a) { this.elements.includes(a) && this.elements.splice(this.elements.indexOf(a), 1), this.elementsToBound.includes(a) && this.elementsToBound.splice(this.elementsToBound.indexOf(a), 1) } tick() { let a = this; 0 != window.scrollTop - window.mouseLastScrollTop && this.elements.forEach(b => { a.setElementPosition(b) }) } }, M = new class { constructor() { this.elements = [], this.elementsToBound = [], this.elementsToCheck = [], this.setMaxScrollTop(), l.add("pageKill", this.pageKill.bind(this)), l.add("pageInit", this.init.bind(this), 20), this.bindEvents() } bindEvents() { p.on("resize", this.resizeHandler, this), p.on("scroll", this.scrollHandler, this), p.on("update", this.updateHandler, this) } pageKill(a) { this.elements = [], this.elementsToBound = [], this.elementsToCheck = [], a() } init(a) { this.getBoundingThrottle(), this.checkElementsThrottle(), a() } resizeHandler() { this.getBoundingThrottle(), this.checkElementsThrottle() } scrollHandler() { this.checkElementsThrottle() } updateHandler() { n.nextTick(() => { this.getBoundingThrottle(), this.checkElementsThrottle() }, this) } setMaxScrollTop() { window.maxScrollTop = Math.max(document.body ? document.body.scrollHeight : 0, document.body ? document.body.offsetHeight : 0, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) - window.innerHeight } getBoundingThrottle() { this.setMaxScrollTop(), this.elements.forEach(a => { this.elementsToBound.includes(a) || (a.scrollProgress = 0, this.elementsToBound.push(a)) }), n.nextTick(this.getBounding.bind(this)) } getBounding() { this.elementsToBound.forEach(a => { this.setElementBounding(a) }), this.elementsToBound = [] } setElementBounding(a) { let b = a.getAttribute("style"); a.setAttribute("style", ""); let c = a.getBoundingClientRect(); a.scrollStart = c.top + window.unifiedScrollTop - window.innerHeight, a.scrollEnd = a.scrollStart + a.clientHeight + window.innerHeight, a.scrollEnd = Math.min(a.scrollEnd, window.maxScrollTop), a.scrollMiddle = a.scrollStart + (a.scrollEnd - a.scrollStart) / 2, a.setAttribute("style", b) } checkElementsThrottle() { this.elements.forEach(a => { this.elementsToCheck.includes(a) || this.elementsToCheck.push(a) }), n.nextTick(this.checkElements.bind(this)) } checkElements() { this.elementsToCheck.forEach(a => { this.checkElement(a) }), this.elementsToCheck = [] } checkElement(a) { let d = window.unifiedScrollTop, c = "", b = Math.min(Math.max((d - a.scrollStart) / (a.scrollEnd - a.scrollStart), 0), 1); isNaN(b) && (b = 0), c = b <= 0 ? "under" : b >= 1 && a.scrollEnd < window.maxScrollTop ? "above" : "in", a.scrollProgress = b, a.viewportPosition !== c ? (a.viewportPosition = c, a.dispatchEvent(new CustomEvent("viewportintersect")), a.dispatchEvent(new CustomEvent("viewport" + c)), "in" !== c && a.dispatchEvent(new CustomEvent("viewportout")), a.dispatchEvent(new CustomEvent("scrollprogress"))) : b > 0 && b < 1 && a.dispatchEvent(new CustomEvent("scrollprogress")) } add(a) { this.elements.includes(a) || (a.scrollProgress = 0, this.elementsToBound.includes(a) || (this.elementsToBound.push(a), this.elementsToCheck.push(a)), this.elements.push(a)) } remove(a) { this.elements.includes(a) && this.elements.splice(this.elements.indexOf(a), 1), this.elementsToBound.includes(a) && this.elementsToBound.splice(this.elementsToBound.indexOf(a), 1), this.elementsToCheck.includes(a) && this.elementsToCheck.splice(this.elementsToCheck.indexOf(a), 1) } }, fm = i, fn = g, fo = b, fp = s("Promise"), fq = a.TypeError; k({ target: "AsyncIterator", proto: !0, real: !0, forced: !0 }, { reduce: function (a) { var b = fo(this), d = fn(b.next), c = arguments.length < 2, e = c ? void 0 : arguments[1]; return fn(a), new fp(function (g, h) { var f = function () { try { fp.resolve(fo(fm(d, b))).then(function (b) { try { if (fo(b).done) c ? h(fq("Reduce of empty iterator with no initial value")) : g(e); else { var d = b.value; c ? (c = !1, e = d, f()) : fp.resolve(a(e, d)).then(function (a) { e = a, f() }, h) } } catch (i) { h(i) } }, h) } catch (i) { h(i) } }; f() }) } }); var fr = ah, fs = g, ft = b, fu = a.TypeError; k({ target: "Iterator", proto: !0, real: !0, forced: !0 }, { reduce: function (b) { ft(this), fs(b); var a = arguments.length < 2, c = a ? void 0 : arguments[1]; if (fr(this, function (d) { a ? (a = !1, c = d) : c = b(c, d) }, { IS_ITERATOR: !0 }), a) throw fu("Reduce of empty iterator with no initial value"); return c } }); var fv = aX.some; k({ target: "AsyncIterator", proto: !0, real: !0, forced: !0 }, { some: function (a) { return fv(this, a) } }); var fw = ah, fx = g, fy = b; k({ target: "Iterator", proto: !0, real: !0, forced: !0 }, { some: function (a) { return fy(this), fx(a), fw(this, function (b, c) { if (a(b)) return c() }, { IS_ITERATOR: !0, INTERRUPTED: !0 }).stopped } }); class fz { constructor(a) { this.pluginSlug = a, l.add("siteInit", this.beforeInit.bind(this), 5) } beforeInit(a) { this.isDisabled = this.disabled(), this.isDisabled ? document.documentElement.classList.add("lg-" + this.pluginSlug + "-disabled") : this.init(), a() } init() { this.setAttributes() } disabled() { let a = !1; return void 0 !== bg.settings[this.pluginSlug] && void 0 !== bg.settings[this.pluginSlug].disabled && (a = bg.settings[this.pluginSlug].disabled), e7.isString(a) ? a = window.browser.is(a, !0) : e7.isArray(a) ? a = a.some(a => e7.isString(a) ? window.browser.is(a, !0) : !!e7.isObject(a) && window.browser.satisfies(a)) : e7.isObject(a) && (a = window.browser.satisfies(a)), a } setAttributes() { this.pluginAttributes = {} } getAttributes(c) { let i = this.pluginAttributes, g = {}; for (let d in i) { let e = i[d], f = "lg-" + this.pluginSlug; "root" !== d && (f += "-" + d), f = e7.toCamelCase(f); let b = c.dataset[f], a, j, h; "object" == typeof e ? (a = e[0], h = e[1]) : a = e, j = void 0 === b && void 0 !== h ? a(h) : (void 0 !== b || a !== Boolean) && (void 0 !== b ? a === Boolean ? "false" !== b : a(b) : void 0), g[d] = j } return c.luge || (c.luge = {}), c.luge[this.pluginSlug] = g, g } } new class extends fz { constructor() { super("cursor"), this.cursors = [], this.pointers = [], this.trails = [], this.hoverTags = ["a", "button", "input"] } init() { super.init(), l.add("pageInit", this.pageInit.bind(this)), n.add(this.tick, this), this.bindEvents() } setAttributes() { this.pluginAttributes = { root: String, inertia: [Number, bg.settings.cursor.inertia], length: [Number, bg.settings.cursor.trailLength], hide: Boolean } } bindEvents() { document.documentElement.addEventListener("mouseenter", this.hoverHandler.bind(this), { capture: !0, passive: !0 }), document.documentElement.addEventListener("mouseleave", this.hoverHandler.bind(this), { capture: !0, passive: !0 }) } pageInit(b) { let c = this, a = document.querySelectorAll("[data-lg-cursor]:not(.lg-cursor)"); a.length > 0 && a.forEach(a => { let b = this.getAttributes(a); b.hide && document.documentElement.classList.add("lg-cursor-hide"), a.querySelectorAll("[data-lg-cursor-pointer").forEach(a => { a.luge = { cursor: { position: { x: 0, y: 0 }, smoothPosition: { x: 0, y: 0 } } }, a.hasAttribute("data-lg-cursor-inertia") ? a.luge.cursor.inertia = Number(a.getAttribute("data-lg-cursor-inertia")) : a.luge.cursor.inertia = b.inertia, a.classList.add("lg-cursor-pointer"), c.pointers.push(a) }), a.querySelectorAll("[data-lg-cursor-trail").forEach(a => { let d = document.createElementNS("http://www.w3.org/2000/svg", "svg"), e = document.createElementNS("http://www.w3.org/2000/svg", "path"); d.appendChild(e), a.appendChild(d), a.luge = { cursor: { position: { x: 0, y: 0 }, smoothPosition: { x: 0, y: 0 }, points: [], path: e } }, a.hasAttribute("data-lg-cursor-inertia") ? a.luge.cursor.inertia = Number(a.getAttribute("data-lg-cursor-inertia")) : a.luge.cursor.inertia = b.inertia, a.hasAttribute("data-lg-cursor-length") ? a.luge.cursor.length = Number(a.getAttribute("data-lg-cursor-length")) : a.luge.cursor.length = b.length, a.classList.add("lg-cursor-trail"), c.trails.push(a) }), a.classList.add("lg-cursor"), this.cursors.push(a) }), b() } hoverHandler(a) { let b = a.target, d = b.tagName.toLowerCase(), e = b.getAttribute("data-lg-hover"), c = null; (this.hoverTags.includes(d) || null !== e) && (c = "mouseenter" === a.type), null !== c && this.cursors.forEach(a => { a.classList.toggle("lg-cursor--hover", c), null !== e && "" !== e && a.classList.toggle("lg-cursor--hover--" + e, c) }) } tick(a) { this.pointers.forEach(b => { let c = b.luge.cursor.position, a = b.luge.cursor.smoothPosition; c.x = window.mouseX, c.y = window.mouseY, a.x += (c.x - a.x) * b.luge.cursor.inertia, a.y += (c.y - a.y) * b.luge.cursor.inertia, b.style.transform = "translate3d(" + a.x + "px, " + a.y + "px, 0)" }), this.trails.forEach(a => { let c = a.luge.cursor.position, b = a.luge.cursor.smoothPosition; if (c.x = window.mouseX, c.y = window.mouseY, -1 !== window.mouseX) { var h, i; b.x += (c.x - b.x) * a.luge.cursor.inertia, b.y += (c.y - b.y) * a.luge.cursor.inertia; let d = a.luge.cursor.points, f = { x: b.x, y: b.y }; d.push(f), d.length > a.luge.cursor.length && d.shift(); let e = "", g = 0, j = (a, b) => { let c = b.x - a.x, d = b.y - a.y; return { length: Math.sqrt(Math.pow(c, 2) + Math.pow(d, 2)), angle: Math.atan2(d, c) } }, k = (a, e, f, h) => { let b = j(e || a, f || a); g += b.length; let c = b.angle + (h ? Math.PI : 0), d = .2 * b.length; return [a.x + Math.cos(c) * d, a.y + Math.sin(c) * d] }; e = `${d.reduce((c, a, b, d) => 0 === b ? `M ${a.x},${a.y}` : `${c} ${(i = (a, b, c) => { let [d, e] = k(c[b - 1], c[b - 2], a), [f, g] = k(a, c[b - 1], c[b + 1], !0); return `C ${d},${e} ${f},${g} ${a.x},${a.y}` })(a, b, d)}`, "")}`, a.luge.cursor.path.setAttribute("d", e), a.style.setProperty("--length", g) } }) } }, new class extends fz { constructor() { super("intersection"), this.listeners = { onViewportIntersect: this.onViewportIntersect.bind(this) } } init() { super.init(), this.elements = [], l.add("pageInit", this.pageInit.bind(this)), l.add("pageKill", this.pageKill.bind(this)), this.bindEvents() } setAttributes() { this.pluginAttributes = { root: String, class: String } } bindEvents() { p.on("update", this.updateHandler, this) } updateHandler() { this.addElements() } pageInit(a) { this.addElements(), a() } addElements() { let a = document.querySelectorAll("[data-lg-intersection]"), b = this; a.forEach(a => { b.addElement(a) }) } addElement(a) { this.elements.includes(a) || (this.getAttributes(a), K.add(a), a.addEventListener("viewportintersect", this.listeners.onViewportIntersect), this.elements.push(a)) } removeElement(a) { this.elements.includes(a) && (K.remove(a), a.removeEventListener("viewportintersect", this.listeners.onViewportIntersect), this.elements.splice(this.elements.indexOf(a), 1)) } pageKill(a) { let b = this; this.elements.forEach(a => { b.removeElement(a) }), a() } onViewportIntersect(d) { let a = d.target, c = a.luge.viewport.position, b = !!a.luge.intersection.class && a.luge.intersection.class.split(" "); a.classList.remove("is-in", "is-out", "is-out-top", "is-out-bottom"), "in" === c ? (a.classList.add("is-in"), b && document.documentElement.classList.add(...b)) : (b && document.documentElement.classList.remove(...b), "above" === c ? a.classList.add("is-out", "is-out-top") : a.classList.add("is-out", "is-out-bottom")) } }, new class extends fz { constructor() { super("lottie"), this.elements = [], this.doneLoad = null, this.onViewportIntersect = this.onViewportIntersect.bind(this), this.onScrollProgress = this.onScrollProgress.bind(this) } init() { super.init(), "object" == typeof lottie && (l.add("pageInit", this.pageInit.bind(this)), l.add("pageLoad", this.pageLoad.bind(this)), l.add("pageKill", this.pageKill.bind(this)), l.add("reveal", this.reveal.bind(this))), this.bindEvents() } setAttributes() { this.pluginAttributes = { root: String, autoplay: Boolean, scroll: Boolean, loop: Boolean, loopFrame: [Number, 0], reverse: Boolean, required: Boolean, force: Boolean, renderer: [String, bg.settings.lottie.renderer], subframe: [Boolean, bg.settings.lottie.subFrame] } } bindEvents() { p.on("update", this.updateHandler, this) } updateHandler() { this.addElements(), this.reveal(() => { }) } pageLoad(a) { let b = !1; this.elements.length > 0 && this.elements.forEach(a => { a.luge.lottie.required && !a.player.isLoaded && (b = !0) }), b ? this.doneLoad = a : a() } pageInit(a) { this.addElements(), a() } addElements() { let a = this; this.elements = document.querySelectorAll("[data-lg-lottie]"), this.toAutoplay = [], this.toLoad = 0, this.requireds = 0, this.elements.forEach(b => { b.player || (M.add(b), a.initPlayer(b), b.addEventListener("revealin", a.play), b.addEventListener("viewportintersect", a.onViewportIntersect)) }) } pageKill(b) { let c = this, a = document.querySelector("[data-lg-page] + [data-lg-page]"); (a ? a.querySelectorAll("[data-lg-lottie]") : this.elements).forEach(a => { a.removeEventListener("revealin", c.play), a.removeEventListener("viewportintersect", c.onViewportIntersect), a.hasAttribute("data-lg-lottie-scroll") && a.removeEventListener("scrollprogress", c.onScrollProgress), a.player && (a.player.destroy(), delete a.player) }), b() } reveal(a) { this.toAutoplay.forEach(a => { "in" === a.viewportPosition && a.play() }), a() } onViewportIntersect(b) { let a = b.target; a.luge.lottie.force || ("in" === a.viewportPosition ? a.player.isPaused && (a.player.scrollPaused || a.hasAttribute("data-lg-lottie-autoplay")) && (a.player.scrollPaused = !1, a.play()) : a.player.isPaused || (a.player.scrollPaused = !0, a.pause())) } initPlayer(a) { let c = this; this.toLoad++; let b = this.getAttributes(a); a.player = lottie.loadAnimation({ container: a, renderer: b.renderer, loop: b.loop && !b.reverse, autoplay: !1, path: b.root }), void 0 !== b.subframe && a.player.setSubframe(b.subframe), a.classList.add("lg-lottie"), this.setPlayerStateClasses(a, !1), b.autoplay && this.toAutoplay.push(a), b.required && this.requireds++, b.scroll ? a.addEventListener("scrollprogress", this.onScrollProgress) : b.loop && a.player.addEventListener("enterFrame", function () { if (a.player.totalFrames > 0) { let d = Math.round(a.player.currentFrame); 1 === a.player.playDirection ? d === a.player.totalFrames - 1 && (a.player.pause(), b.reverse ? n.nextTick(() => { a.player.setDirection(-1), a.player.goToAndPlay(a.player.totalFrames, !0), c.setPlayerStateClasses(a, "backward") }, this) : n.nextTick(() => { a.player.goToAndPlay(b.loopFrame, !0) }, this)) : d === b.loopFrame && (a.player.pause(), n.nextTick(() => { a.player.setDirection(1), a.player.goToAndPlay(b.loopFrame, !0), c.setPlayerStateClasses(a, "forward") }, this)) } }), a.play = this.play.bind(this, a), a.pause = this.pause.bind(this, a), a.stop = this.stop.bind(this, a), a.player.addEventListener("DOMLoaded", () => { a.classList.add("is-loaded"), c.playerLoaded(b.required) }, { once: !0 }) } setPlayerStateClasses(a, b) { a.classList.remove("is-playing", "is-playing-forward", "is-playing-backward", "is-paused"), b ? (a.classList.add("is-playing"), "backward" === b ? a.classList.add("is-playing-backward") : a.classList.add("is-playing-forward")) : a.classList.add("is-paused") } playerLoaded() { let a = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; this.toLoad--, a && this.requireds--, 0 === this.requireds && "function" == typeof this.doneLoad && (this.doneLoad(), this.doneLoad = null), 0 === this.toLoad && n.nextTick(() => { p.emit("resize") }) } play(a) { a && a.player && (a.player.play(), this.setPlayerStateClasses(a, "forward")) } pause(a) { a && a.player && (a.player.pause(), this.setPlayerStateClasses(a, !1)) } stop(a) { a && a.player && (a.player.stop(), this.setPlayerStateClasses(a, !1)) } onScrollProgress(b) { let a = b.target; a.player.goToAndStop(a.player.totalFrames * a.scrollProgress, !0) } }, new class extends fz { constructor() { super("mouse"), this.elements = [], this.mouse = { x: window.mouseX, y: window.mouseY }, window.mouseSpeed = 0 } init() { super.init(), l.add("pageInit", this.pageInit.bind(this)), l.add("pageKill", this.pageKill.bind(this)), n.add(this.tick, this), this.getMouseMovement(), this.bindEvents() } setAttributes() { this.pluginAttributes = { root: String, inertia: [String, bg.settings.mouse.inertia] } } getAttributes(c) { let a = super.getAttributes(c); if (a.inertia) { let b = a.inertia.match(/\{\s*([0-9]*[.]?[0-9]*)\s*,\s*([0-9]*[.]?[0-9]*)\s*\}/m); a.inertia = b ? Number(b[1]) + (Number(b[2]) - Number(b[1])) * Math.random() : Number(a.inertia), a.inertia = Math.max(Math.min(a.inertia, .99), 0) } return a } bindEvents() { p.on("update", this.updateHandler, this) } updateHandler() { this.addElements() } pageInit(a) { this.addElements(), a() } addElements() { let a = document.querySelectorAll("[data-lg-mouse]"), b = this; a.forEach(a => { b.addElement(a) }) } addElement(a) { this.elements.includes(a) || (this.getAttributes(a), L.add(a), a.luge.mouse.smoothX = 0, a.luge.mouse.smoothY = 0, a.luge.mouse.smoothProgressX = 0, a.luge.mouse.smoothProgressY = 0, this.elements.push(a)) } removeElement(a) { this.elements.includes(a) && this.elements.splice(this.elements.indexOf(a), 1) } pageKill(a) { let b = this; this.elements.forEach(a => { b.removeElement(a) }), a() } getMouseMovement() { let b = this.mouse.x - window.mouseX, c = this.mouse.y - window.mouseY, d = Math.hypot(b, c); if (window.mouseSpeed += .5 * (d - window.mouseSpeed), window.mouseSpeed < .001 && (window.mouseSpeed = 0), d > 1) { let a = Math.atan2(c, b) * (180 / Math.PI) + 180; window.mouseAngle = a, window.mouseDirection = a >= 45 && a < 135 ? "down" : a >= 135 && a < 225 ? "left" : a >= 225 && a < 315 ? "up" : "right" } this.mouse = { x: window.mouseX, y: window.mouseY }, setTimeout(this.getMouseMovement.bind(this), 20) } tick() { this.elements.forEach(b => { let a = b.luge.mouse; if (a.x) { if (a.inertia) { a.smoothX += (a.x - a.smoothX) * a.inertia, a.smoothY += (a.y - a.smoothY) * a.inertia, a.smoothProgressX += (a.progressX - a.smoothProgressX) * a.inertia, a.smoothProgressY += (a.progressY - a.smoothProgressY) * a.inertia, b.style.setProperty("--mouse-x", a.smoothX), b.style.setProperty("--mouse-y", a.smoothY), b.style.setProperty("--mouse-progress-x", a.smoothProgressX), b.style.setProperty("--mouse-progress-y", a.smoothProgressY); let c = Math.round(1e3 * (a.x - a.smoothX)) / 1e3, d = Math.round(1e3 * (a.y - a.smoothY)) / 1e3; b.style.setProperty("--abs-diff-x", Math.abs(c)), b.style.setProperty("--diff-x", c), b.style.setProperty("--abs-diff-y", Math.abs(d)), b.style.setProperty("--diff-y", d) } else b.style.setProperty("--mouse-x", a.x), b.style.setProperty("--mouse-y", a.y), b.style.setProperty("--mouse-progress-x", a.progressX), b.style.setProperty("--mouse-progress-y", a.progressY) } }) } }, new class extends fz { constructor() { super("parallax"), this.elements = [], this.onScrollProgress = this.onScrollProgress.bind(this) } init() { super.init(), l.add("pageInit", this.pageInit.bind(this)), l.add("pageKill", this.pageKill.bind(this)), n.add(this.tick, this), this.bindEvents() } setAttributes() { this.pluginAttributes = { root: String, disable: String, amplitude: [String, 1], anchor: String, inertia: [String, bg.settings.parallax.inertia] } } getAttributes(c) { let a = super.getAttributes(c); if (a.amplitude) { let b = a.amplitude.match(/\{\s*([0-9]*[.]?[0-9]*)\s*,\s*([0-9]*[.]?[0-9]*)\s*\}/m); a.amplitude = b ? Number(b[1]) + (Number(b[2]) - Number(b[1])) * Math.random() : Number(a.amplitude) } return a } bindEvents() { p.on("update", this.updateHandler, this) } updateHandler() { this.addElements() } pageInit(a) { this.addElements(), a() } pageKill(a) { let b = this; this.elements.forEach(a => { b.removeElement(a) }), a() } addElements() { document.querySelectorAll("[data-lg-parallax]").forEach(b => { let a = this.getAttributes(b).disable, c = !0; a && ("desktop" === a && window.browser.is("desktop") || "handheld" === a && !window.browser.is("desktop") || "mobile" === a && window.browser.is("mobile") || "tablet" === a && window.browser.is("tablet")) && (c = !1), c && this.addElement(b) }) } addElement(a) { this.elements.includes(a) || (M.add(a), a.addEventListener("scrollprogress", this.onScrollProgress), "child" === a.luge.parallax.root && (a.style.overflow = "hidden", a.luge.parallax.child = a.firstElementChild), a.luge.parallax.movement = 0, a.luge.parallax.smoothMovement = 0, this.elements.push(a), this.moveElement(a)) } removeElement(a) { a.removeEventListener("scrollprogress", this.onScrollProgress), this.elements.includes(a) && this.elements.splice(this.elements.indexOf(a), 1) } onScrollProgress(a) { this.moveElement(a.target) } moveElement(a) { let b = 1 - 2 * a.scrollProgress; "bottom" === a.luge.parallax.anchor ? b += 1 : "top" === a.luge.parallax.anchor && (b -= 1), "child" === a.luge.parallax.root ? a.luge.parallax.movement = 5 * a.luge.parallax.amplitude * b : a.luge.parallax.movement = a.clientHeight * b * a.luge.parallax.amplitude / 2 } tick() { this.elements.forEach(a => { a.luge.parallax.smoothMovement += (a.luge.parallax.movement - a.luge.parallax.smoothMovement) * a.luge.parallax.inertia, "child" === a.luge.parallax.root && a.luge.parallax.child ? a.luge.parallax.child.style.transform = "translate3d(0, " + a.luge.parallax.smoothMovement + "%, 0) scale(1." + String(Math.abs(a.luge.parallax.amplitude)).replace(".", "") + ")" : a.style.transform = "translate3d(0, " + a.luge.parallax.smoothMovement + "px, 0)" }) } }; var bh = new class extends fz { constructor() { super("preloader"), this.intro = !1, this.playerIn = !1, this.startTime = Date.now(), this.doneLoad = null } init() { super.init(), this.el = document.querySelector("[data-lg-preloader]"), this.el && (this.attributes = this.getAttributes(this.el), this.el.classList.add("lg-preloader", "lg-preloader--" + this.attributes.root), this.initLottie(), l.add("siteIn", this.siteIn.bind(this))), l.add("pageLoad", this.pageLoad.bind(this)) } setAttributes() { this.pluginAttributes = { root: [String, ""], duration: [Number, bg.settings.preloader.duration], in: String, reverse: Boolean } } pageLoad(a) { this.attributes && "lottie" === this.attributes.root && "object" == typeof lottie ? this.doneLoad = a : a() } siteIn(a) { let e = (Date.now() - this.startTime) / 1e3, c = this.attributes.duration - e; if (c <= 0) { let b = this.clear.bind(this, a); if (this.playerIn) this.playerIn.play(), this.playerIn.addEventListener("complete", b, { once: !0 }); else if ("function" == typeof this.intro) this.intro(a, this.remove.bind(this)); else { let d = window.getComputedStyle(this.el).getPropertyValue("transition-duration"); "" !== d && "0s" !== d ? (this.el.addEventListener("transitionend", b, { once: !0 }), this.el.classList.add("is-hidden")) : b() } } else setTimeout(this.siteIn.bind(this, a), 1e3 * c) } clear(a) { this.playerIn && this.playerIn.destroy(), this.remove(), a() } remove(a) { this.el.parentNode.removeChild(this.el), this.el = null } add(a) { this.intro = a } initLottie() { let c = this; if ("lottie" === this.attributes.root && "object" == typeof lottie) { let b = this.attributes.in, a = !1; b && (a = lottie.loadAnimation({ container: this.el, renderer: "svg", loop: !1, autoplay: !1, path: b, rendererSettings: { preserveAspectRatio: "none" } }), this.attributes.reverse && a.setDirection(-1)), a.addEventListener("DOMLoaded", () => { c.attributes.reverse && a.goToAndStop(a.totalFrames - 1, !0), c.el.setAttribute("style", ""), "function" == typeof c.doneLoad && (c.doneLoad(), c.doneLoad = null) }, { once: !0 }), this.playerIn = a } } }, bi = new class extends fz { constructor() { super("reveal"), this.elements = [], this.toRevealIn = [], this.toRevealOut = [], this.reveals = { in: {}, out: {} }, this.canReveal = !1, this.onScrollProgress = this.onScrollProgress.bind(this) } init() { super.init(), l.add("pageInit", this.pageInit.bind(this), 11), l.add("pageKill", this.pageKill.bind(this)), l.add("reveal", this.reveal.bind(this)), this.bindEvents() } setAttributes() { super.setAttributes(), this.pluginAttributes = { root: String, stagger: String, multiple: Boolean, delay: [Number, 0] } } getAttributes(b) { let a = super.getAttributes(b); return void 0 !== a.stagger && "" === a.stagger ? a.stagger = bg.settings.reveal.stagger : void 0 === a.stagger && (a.stagger = !1), a } bindEvents() { p.on("resize", this.resizeHandler, this), p.on("scroll", this.scrollHandler, this), p.on("update", this.updateHandler, this) } pageInit(a) { this.addElements(), a() } addElements() { let a = document.querySelectorAll("[data-lg-reveal]:not([data-lg-reveal-manual])"), b = this; a.forEach(a => { b.addElement(a) }) } addElement(a) { if (!this.elements.includes(a)) { let b = this.getAttributes(a); if (!b.stagger && null !== a.closest("[data-lg-reveal-stagger]")) return; M.add(a), a.addEventListener("scrollprogress", this.onScrollProgress); let c = b.root; a.luge.reveal.name = e7.toCamelCase(c), a.luge.reveal.delay = 1e3 * b.delay, b.stagger ? Array.from(a.children).forEach(a => { let b = a.dataset.lgReveal; a.style.transition = "none", n.nextTick(() => { a.style.transition = "" }), a.classList.add("lg-reveal", "is-out"), (b || c) && a.classList.add("lg-reveal--" + (null != b ? b : c)), a.dataset.lgRevealChild = "", a.luge || (a.luge = {}), a.luge.reveal = { isRevealed: !1 } }) : (a.style.transition = "none", n.nextTick(() => { a.style.transition = "" }), a.classList.add("lg-reveal", "is-out"), c && a.classList.add("lg-reveal--" + c)), this.elements.push(a) } } removeElement(a) { a.removeEventListener("scrollprogress", this.onScrollProgress), this.elements.includes(a) && this.elements.splice(this.elements.indexOf(a), 1) } pageKill(a) { let b = this; this.canReveal = !1, this.elements.forEach(a => { b.removeElement(a) }), a() } onScrollProgress(c) { let a = c.target, b = bg.settings.reveal.threshold; a.scrollProgress >= b && a.scrollProgress <= 1 - b && !a.luge.reveal.isRevealed ? (this.toRevealOut.includes(a) && this.toRevealOut.splice(this.toRevealOut.indexOf(a), 1), this.toRevealIn.includes(a) || this.toRevealIn.push(a)) : (a.scrollProgress < b || a.scrollProgress > 1 - b) && a.luge.reveal.isRevealed && (this.toRevealIn.includes(a) && this.toRevealIn.splice(this.toRevealIn.indexOf(a), 1), this.toRevealOut.includes(a) || this.toRevealOut.push(a)) } reveal(a) { this.canReveal = !0, this.elements.forEach(a => { a.scrollStart < 0 && (this.toRevealIn.includes(a) || this.toRevealIn.push(a)) }), this.revealElements(), a() } resizeHandler() { this.revealElements() } scrollHandler() { this.revealElements() } updateHandler() { this.addElements(), this.revealElements() } revealElements() { let a = this; if (this.canReveal) { let b = 0; this.toRevealIn.forEach(c => { let d = e7.toCamelCase(c.luge.reveal.root); setTimeout(function () { a.revealCallback(c, d, "in"), c.luge.reveal.stagger ? Array.from(c.children).forEach((b, e) => { let f = e7.toCamelCase(b.dataset.lgReveal); setTimeout(() => { (f || d) && a.revealCallback(b, null != f ? f : d, "in"), a.setRevealClasses(b, "is-in") }, e * c.luge.reveal.stagger * 1e3) }) : a.setRevealClasses(c, "is-in") }, b += c.luge.reveal.delay), b += 1e3 * bg.settings.reveal.stagger, c.luge.reveal.multiple || a.removeElement(c) }), this.toRevealOut.forEach(b => { let d = e7.toCamelCase(b.luge.reveal.root); void 0 !== b.luge.reveal.isRevealed && a.revealCallback(b, d, "out"); let c = ""; c = b.scrollProgress > .5 ? "is-out is-out-top" : "is-out is-out-bottom", b.luge.reveal.stagger ? Array.from(b.children).forEach((e, f) => { let g = e7.toCamelCase(e.dataset.lgReveal); setTimeout(() => { (g || d) && a.revealCallback(e, null != g ? g : d, "out"), a.setRevealClasses(e, c) }, f * b.luge.reveal.stagger * 1e3) }) : a.setRevealClasses(b, c) }), this.toRevealIn = [], this.toRevealOut = [] } } setRevealClasses(b, a) { a = a.split(" "), b.classList.remove("is-in", "is-out", "is-out-top", "is-out-bottom"), a.forEach(a => { b.classList.add(a) }) } revealCallback(b, c, a) { b.dispatchEvent(new CustomEvent("reveal" + a)), b.luge.reveal.isRevealed = "in" === a, "function" == typeof this.reveals[a][c] ? this.reveals[a][c](b) : "function" == typeof b["onreveal" + a] && b["onreveal" + a]() } add(b, a, c) { this.reveals[b] && (a = e7.toCamelCase(a), this.reveals[b][a] ? console.log("Reveal animation named " + a + " already exists.") : this.reveals[b][a] = c) } }; new class extends fz { constructor() { super("scroll"), this.elements = [], this.allowedProperties = ["opacity", "background-x", "background-y"], this.transformProperties = ["x", "y", "z", "translate3d", "rotate", "rotateX", "rotateY", "rotateZ", "scale", "scaleX", "scaleY", "scaleZ"], this.presets = { "background-x": { "background-x": ["0%", "100%"] }, "background-y": { "background-y": ["0%", "100%"] } }, this.onScrollProgress = this.onScrollProgress.bind(this) } init() { super.init(), l.add("pageInit", this.pageInit.bind(this)), l.add("pageKill", this.pageKill.bind(this)), n.add(this.tick, this), this.bindEvents() } setAttributes() { this.pluginAttributes = { root: String, yoyo: Boolean, inertia: [String, bg.settings.scroll.inertia], animate: String } } getAttributes(c) { let a = super.getAttributes(c); if (a.inertia) { let b = a.inertia.match(/\{\s*([0-9]*[.]?[0-9]*)\s*,\s*([0-9]*[.]?[0-9]*)\s*\}/m); a.inertia = b ? Number(b[1]) + (Number(b[2]) - Number(b[1])) * Math.random() : Number(a.inertia), a.inertia = Math.max(Math.min(a.inertia, .99), 0) } return a } bindEvents() { p.on("update", this.updateHandler, this) } updateHandler() { this.addElements() } pageInit(a) { this.addElements(), a() } addElements() { let a = document.querySelectorAll("[data-lg-scroll]"), b = this; a.forEach(a => { b.addElement(a) }) } addElement(a) { if (!this.elements.includes(a)) { let d = this.getAttributes(a); M.add(a), a.addEventListener("scrollprogress", this.onScrollProgress); let e = {}; e.smoothProgress = void 0 !== a.scrollProgress ? a.scrollProgress : 0, e.yoyo = d.yoyo, e.inertia = d.inertia; let f = !1; if (void 0 !== d.animate ? f = JSON.parse(d.animate.replace(/'/g, '"')) : this.presets[d.root] && (f = this.presets[d.root]), f) { let j = {}; for (let b in f) if (this.allowedProperties.includes(b) || this.transformProperties.includes(b)) { let k = f[b], g = String(k[0]), h = String(k[1]), c = g.match(/\d+([a-zA-Z%]+)/m); c ? c = c[1] : 0 === b.indexOf("rotate") && (c = "deg"), g = Number(g.replace(c, "")), h = Number(h.replace(c, "")); let i = b; "background-x" === b ? i = "background-position-x" : "background-y" === b && (i = "background-position-y"), j[i] = { from: g, to: h, current: g, unit: c } } e.properties = j } a.luge.scroll.animation = e, this.elements.push(a) } } removeElement(a) { a.removeEventListener("scrollprogress", this.onScrollProgress), this.elements.includes(a) && this.elements.splice(this.elements.indexOf(a), 1) } pageKill(a) { let b = this; this.elements.forEach(a => { b.removeElement(a) }), a() } onScrollProgress(a) { a.target.luge.scroll.animation.atDest = !1 } tick() { for (let a of this.elements) { if (a.luge.scroll.animation.atDest) continue; let e = a.scrollProgress; if (a.luge.scroll.yoyo && (e = 1 - Math.abs(1 - 2 * e)), a.luge.scroll.animation.smoothProgress += (e - a.luge.scroll.animation.smoothProgress) * (1 - a.luge.scroll.inertia), a.luge.scroll.animation.properties) { let d = {}; for (let [f, b] of Object.entries(a.luge.scroll.animation.properties)) b.current = b.from + (b.to - b.from) * a.luge.scroll.animation.smoothProgress, ["x", "y", "z"].includes(f) ? (d.translate3d || (d.translate3d = {}), d.translate3d[f] = b.current + b.unit) : d[f] = b.current + b.unit; let g = []; for (let [h, c] of Object.entries(d)) if (this.transformProperties.includes(h)) { if ("object" == typeof c) { if ("translate3d" === h) { let i = Object.assign({ x: 0, y: 0, z: 0 }, c); c.string = i.x + ", " + i.y + ", " + i.z } else c.string = Object.values(c).join(", ") } g.push(h + "(" + ("object" != typeof c ? c : c.string) + ")") } let j = {}, k = []; for (let [l, n] of (g.length > 0 && (j.transform = g.join(" "), k.push("transform")), Object.entries(d))) this.transformProperties.includes(l) || (j[l] = n, k.push(l)); for (let [o, p] of Object.entries(j)) a.style.setProperty(o, p); a.style.setProperty("will-change", k.join(", ")) } else { let m = Math.round(1e3 * (a.scrollProgress - a.luge.scroll.animation.smoothProgress)) / 1e3; a.style.setProperty("--progress", a.luge.scroll.animation.smoothProgress), a.style.setProperty("--abs-diff", Math.abs(m)), a.style.setProperty("--diff", m) } 1e-4 > Math.abs(e - a.luge.scroll.animation.smoothProgress) && (a.luge.scroll.animation.atDest = !0) } } }; var q, ai, bj = Function.prototype, bZ = bj.apply, b$ = bj.call, bk = "object" == typeof Reflect && Reflect.apply || (E ? b$.bind(bZ) : function () { return b$.apply(bZ, arguments) }), fA = z.exports, bl = function (a, b, d) { for (var c in b) fA(a, c, b[c], d); return a }, bm = a, bn = H, bo = c, N = a1, b_ = z.exports, bp = j("asyncIterator"), bq = bm.AsyncIterator, br = bn.AsyncIteratorPrototype; if (br) q = br; else if (bo(bq)) q = bq.prototype; else if (bn.USE_FUNCTION_CONSTRUCTOR || bm.USE_FUNCTION_CONSTRUCTOR) try { ai = N(N(N(Function("return async function*(){}()")()))), N(ai) === Object.prototype && (q = ai) } catch (fB) { } q || (q = {}), bo(q[bp]) || b_(q, bp, function () { return this }); var fC = i, fD = g, fE = b, fF = a_, fG = v, fH = bl, bs = J, fI = u, fJ = q, fK = s("Promise"), b0 = "AsyncIteratorProxy", fL = bs.set, fM = bs.getterFor(b0), fN = j("toStringTag"), fO = bk, fP = g, fQ = b, fR = function (c, b) { var a = function (a) { a.type = b0, a.next = fD(a.iterator.next), a.done = !1, a.ignoreArgument = !b, fL(this, a) }; return a.prototype = fH(fF(fJ), { next: function (a) { var d = this, e = !!arguments.length; return new fK(function (g) { var f = fM(d), h = e ? [f.ignoreArgument ? void 0 : a] : b ? [] : [void 0]; f.ignoreArgument = !1, g(f.done ? { done: !0, value: void 0 } : fE(fC(c, f, fK, h))) }) }, return: function (a) { var b = this; return new fK(function (f, g) { var c = fM(b), d = c.iterator; c.done = !0; var e = fI(d, "return"); if (void 0 === e) return f({ done: !0, value: a }); fK.resolve(fC(e, d, a)).then(function (b) { fE(b), f({ done: !0, value: a }) }, g) }) }, throw: function (a) { var b = this; return new fK(function (f, g) { var c = fM(b), d = c.iterator; c.done = !0; var e = fI(d, "throw"); if (void 0 === e) return g(a); f(fC(e, d, a)) }) } }), b || fG(a.prototype, fN, "Generator"), a }(function (b, c) { var a = this, d = a.mapper; return b.resolve(fQ(fO(a.next, a.iterator, c))).then(function (c) { return fQ(c).done ? (a.done = !0, { done: !0, value: void 0 }) : b.resolve(d(c.value)).then(function (a) { return { done: !1, value: a } }) }) }); k({ target: "AsyncIterator", proto: !0, real: !0, forced: !0 }, { map: function (a) { return new fR({ iterator: fQ(this), mapper: fP(a) }) } }); var fS = i, fT = g, fU = b, fV = a_, fW = v, fX = bl, bt = J, fY = u, fZ = a5.IteratorPrototype, b1 = "IteratorProxy", f$ = bt.set, f_ = bt.getterFor(b1), f0 = j("toStringTag"), f1 = b, f2 = bf, f3 = bk, f4 = g, f5 = b, f6 = function (c, b, a, d) { try { return d ? b(f1(a)[0], a[1]) : b(a) } catch (e) { f2(c, "throw", e) } }, f7 = function (c, b) { var a = function (a) { a.type = b1, a.next = fT(a.iterator.next), a.done = !1, a.ignoreArg = !b, f$(this, a) }; return a.prototype = fX(fV(fZ), { next: function (d) { var a = f_(this), e = arguments.length ? [a.ignoreArg ? void 0 : d] : b ? [] : [void 0]; a.ignoreArg = !1; var f = a.done ? void 0 : fS(c, a, e); return { done: a.done, value: f } }, return: function (a) { var b = f_(this), c = b.iterator; b.done = !0; var d = fY(c, "return"); return { done: !0, value: d ? fU(fS(d, c, a)).value : a } }, throw: function (a) { var b = f_(this), c = b.iterator; b.done = !0; var d = fY(c, "throw"); if (d) return fS(d, c, a); throw a } }), b || fW(a.prototype, f0, "Generator"), a }(function (c) { var a = this.iterator, b = f5(f3(this.next, a, c)); if (!(this.done = !!b.done)) return f6(a, this.mapper, b.value) }); k({ target: "Iterator", proto: !0, real: !0, forced: !0 }, { map: function (a) { return new f7({ iterator: f5(this), mapper: f4(a) }) } }), new class extends fz { constructor() { super("smooth"), this.containers = null, window.hasSmoothScroll = !1, window.smoothScrollTop = 0, window.smoothScrollProgress = 0, this.listeners = { hashChange: this.hashChange.bind(this) } } init() { super.init(), l.add("pageInit", this.pageInit.bind(this)), l.add("pageKill", this.pageKill.bind(this)), this.bindEvents() } bindEvents() { window.addEventListener("hashchange", this.hashChange), p.on("resize", this.resizeHandler, this), p.on("update", this.updateHandler, this) } pageInit(b) { let a = document.querySelectorAll("[data-lg-smooth]"); a.length > 0 ? (window.smoothScrollTop = window.scrollTop, window.unifiedScrollTop = window.smoothScrollTop, window.hasSmoothScroll = !0, document.documentElement.classList.add("has-smooth-scroll"), this.containers = Array.from(a).map(a => ({ el: a, bounding: a.getBoundingClientRect() })), n.add(this.tick, this)) : (window.smoothScrollTop = 0, window.unifiedScrollTop = window.scrollTop, window.hasSmoothScroll = !1, document.documentElement.classList.remove("has-smooth-scroll"), this.containers = null, n.remove(this.tick, this)), this.resizeHandler(), b() } pageKill(a) { this.containers = null, a() } resizeHandler() { this.setBounding() } updateHandler() { this.setBounding() } hashChange() { let a = window.location.hash; if (a) { let b = document.querySelector(a); if (b) { let c = b.getBoundingClientRect().top + window.unifiedScrollTop; window.scroll({ top: c, left: 0, behavior: "instant" }) } } } setBounding() { this.containers && (this.containers.forEach(function (a) { a.el.removeAttribute("style") }), this.containers.forEach(function (a) { let b = a.el.parentNode; a.bounding = a.el.getBoundingClientRect(), b.style.height = a.bounding.bottom + window.scrollTop + "px", a.el.style.position = "fixed", a.el.style.transform = "translate3d(0, -" + window.smoothScrollTop + "px, 0)", a.el.style.left = 0, a.el.style.width = "100%", a.el.style.willChange = "transform" })) } tick() { if (window.smoothScrollTop !== window.scrollTop) { window.smoothScrollTop = Math.max(window.smoothScrollTop + (window.scrollTop - window.smoothScrollTop) * bg.settings.smooth.inertia, 0); let a = window.smoothScrollTop - window.scrollTop; a > -0.1 && a < .1 && (window.smoothScrollTop = window.scrollTop), this.containers && this.containers.forEach(function (a) { a.el.style.transform = "translate3d(0, -" + window.smoothScrollTop + "px, 0)" }), window.hasSmoothScroll && (window.unifiedScrollTop = window.smoothScrollTop, window.smoothScrollProgress = window.smoothScrollTop / window.maxScrollTop, p.emit("scroll")) } } }, new class extends fz { constructor() { super("sticky"), this.elements = [] } init() { super.init(), l.add("pageInit", this.pageInit.bind(this)), l.add("pageKill", this.pageKill.bind(this)), this.bindEvents() } setAttributes() { this.pluginAttributes = { root: String } } bindEvents() { p.on("resize", this.resizeHandler, this), p.on("scroll", this.scrollHandler, this), p.on("update", this.updateHandler, this) } pageInit(a) { this.addElements(), this.resizeHandler(), a() } addElements() { let a = document.querySelectorAll("[data-lg-sticky]"); a.length > 0 && a.forEach(a => { let b = this.getAttributes(a); this.elements.push({ el: a, position: b.root }) }) } pageKill(a) { this.elements = [], a() } resizeHandler() { this.setBounding(), this.checkElements() } scrollHandler() { this.checkElements() } updateHandler() { this.addElements(), this.resizeHandler() } setBounding() { if (this.elements) { let a = window.unifiedScrollTop; this.elements.forEach(function (b) { b.el.style.top = "", b.el.style.transform = ""; let d = b.el.getBoundingClientRect(); if ("bottom" === b.position) { let c = Math.ceil(window.innerHeight - (d.bottom + a)) + 1; c = Math.max(c, 0), b.el.style.top = c + "px", b.start = d.bottom + c + a - window.innerHeight, b.maxGap = b.el.parentNode.offsetHeight - b.el.offsetHeight - c } else "top" === b.position ? (b.start = d.top + a, b.maxGap = b.el.parentNode.offsetHeight - b.el.offsetHeight) : (b.start = d.top + a - (window.innerHeight - b.el.offsetHeight) / 2, b.maxGap = b.el.parentNode.offsetHeight - b.el.offsetHeight) }) } } checkElements() { if (this.elements) { let a = window.unifiedScrollTop; this.elements.forEach(function (b) { if (a >= b.start) { let c = Math.min(a - b.start, b.maxGap); b.el.style.transform = "translate3d(0, " + c + "px, 0)", c === b.maxGap ? b.el.setAttribute("data-lg-sticky-state", "is-fixed is-fixed--bottom") : b.el.setAttribute("data-lg-sticky-state", "is-moving") } else a < b.start && (b.el.style.transform = "translate3d(0, 0, 0)", b.el.setAttribute("data-lg-sticky-state", "is-fixed is-fixed--top")) }) } } }; var d = "undefined" != typeof globalThis && globalThis || "undefined" != typeof self && self || void 0 !== d && d, f8 = "URLSearchParams" in d, b2 = "Symbol" in d && "iterator" in Symbol, f9 = "FileReader" in d && "Blob" in d && function () { try { return new Blob, !0 } catch (a) { return !1 } }(), ga = "FormData" in d, b3 = "ArrayBuffer" in d; if (b3) var gb = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], gc = ArrayBuffer.isView || function (a) { return a && gb.indexOf(Object.prototype.toString.call(a)) > -1 }; function gd(a) { if ("string" != typeof a && (a = String(a)), /[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(a) || "" === a) throw new TypeError('Invalid character in header field name: "' + a + '"'); return a.toLowerCase() } function ge(a) { return "string" != typeof a && (a = String(a)), a } function gf(b) { var a = { next: function () { var a = b.shift(); return { done: void 0 === a, value: a } } }; return b2 && (a[Symbol.iterator] = function () { return a }), a } function e(a) { this.map = {}, a instanceof e ? a.forEach(function (a, b) { this.append(b, a) }, this) : Array.isArray(a) ? a.forEach(function (a) { this.append(a[0], a[1]) }, this) : a && Object.getOwnPropertyNames(a).forEach(function (b) { this.append(b, a[b]) }, this) } function gg(a) { if (a.bodyUsed) return Promise.reject(new TypeError("Already read")); a.bodyUsed = !0 } function gh(a) { return new Promise(function (b, c) { a.onload = function () { b(a.result) }, a.onerror = function () { c(a.error) } }) } function gi(b) { var a = new FileReader, c = gh(a); return a.readAsArrayBuffer(b), c } function gj(a) { if (a.slice) return a.slice(0); var b = new Uint8Array(a.byteLength); return b.set(new Uint8Array(a)), b.buffer } function bu() { return this.bodyUsed = !1, this._initBody = function (a) { var b; this.bodyUsed = this.bodyUsed, this._bodyInit = a, a ? "string" == typeof a ? this._bodyText = a : f9 && Blob.prototype.isPrototypeOf(a) ? this._bodyBlob = a : ga && FormData.prototype.isPrototypeOf(a) ? this._bodyFormData = a : f8 && URLSearchParams.prototype.isPrototypeOf(a) ? this._bodyText = a.toString() : b3 && f9 && (b = a) && DataView.prototype.isPrototypeOf(b) ? (this._bodyArrayBuffer = gj(a.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : b3 && (ArrayBuffer.prototype.isPrototypeOf(a) || gc(a)) ? this._bodyArrayBuffer = gj(a) : this._bodyText = a = Object.prototype.toString.call(a) : this._bodyText = "", this.headers.get("content-type") || ("string" == typeof a ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : f8 && URLSearchParams.prototype.isPrototypeOf(a) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8")) }, f9 && (this.blob = function () { var a = gg(this); if (a) return a; if (this._bodyBlob) return Promise.resolve(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer])); if (this._bodyFormData) throw new Error("could not read FormData body as blob"); return Promise.resolve(new Blob([this._bodyText])) }, this.arrayBuffer = function () { return this._bodyArrayBuffer ? gg(this) || (ArrayBuffer.isView(this._bodyArrayBuffer) ? Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset, this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength)) : Promise.resolve(this._bodyArrayBuffer)) : this.blob().then(gi) }), this.text = function () { var b, a, c, d = gg(this); if (d) return d; if (this._bodyBlob) return b = this._bodyBlob, a = new FileReader, c = gh(a), a.readAsText(b), c; if (this._bodyArrayBuffer) return Promise.resolve(function (d) { for (var b = new Uint8Array(d), c = new Array(b.length), a = 0; a < b.length; a++)c[a] = String.fromCharCode(b[a]); return c.join("") }(this._bodyArrayBuffer)); if (this._bodyFormData) throw new Error("could not read FormData body as text"); return Promise.resolve(this._bodyText) }, ga && (this.formData = function () { return this.text().then(gl) }), this.json = function () { return this.text().then(JSON.parse) }, this } e.prototype.append = function (a, b) { a = gd(a), b = ge(b); var c = this.map[a]; this.map[a] = c ? c + ", " + b : b }, e.prototype.delete = function (a) { delete this.map[gd(a)] }, e.prototype.get = function (a) { return a = gd(a), this.has(a) ? this.map[a] : null }, e.prototype.has = function (a) { return this.map.hasOwnProperty(gd(a)) }, e.prototype.set = function (a, b) { this.map[gd(a)] = ge(b) }, e.prototype.forEach = function (b, c) { for (var a in this.map) this.map.hasOwnProperty(a) && b.call(c, this.map[a], a, this) }, e.prototype.keys = function () { var a = []; return this.forEach(function (c, b) { a.push(b) }), gf(a) }, e.prototype.values = function () { var a = []; return this.forEach(function (b) { a.push(b) }), gf(a) }, e.prototype.entries = function () { var a = []; return this.forEach(function (b, c) { a.push([c, b]) }), gf(a) }, b2 && (e.prototype[Symbol.iterator] = e.prototype.entries); var gk = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"]; function aj(a, b) { if (!(this instanceof aj)) throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.'); var f, d, c = (b = b || {}).body; if (a instanceof aj) { if (a.bodyUsed) throw new TypeError("Already read"); this.url = a.url, this.credentials = a.credentials, b.headers || (this.headers = new e(a.headers)), this.method = a.method, this.mode = a.mode, this.signal = a.signal, c || null == a._bodyInit || (c = a._bodyInit, a.bodyUsed = !0) } else this.url = String(a); if (this.credentials = b.credentials || this.credentials || "same-origin", !b.headers && this.headers || (this.headers = new e(b.headers)), this.method = (d = (f = b.method || this.method || "GET").toUpperCase(), gk.indexOf(d) > -1 ? d : f), this.mode = b.mode || this.mode || null, this.signal = b.signal || this.signal, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && c) throw new TypeError("Body not allowed for GET or HEAD requests"); if (this._initBody(c), !("GET" !== this.method && "HEAD" !== this.method || "no-store" !== b.cache && "no-cache" !== b.cache)) { var g = /([?&])_=[^&]*/; g.test(this.url) ? this.url = this.url.replace(g, "$1_=" + new Date().getTime()) : this.url += (/\?/.test(this.url) ? "&" : "?") + "_=" + new Date().getTime() } } function gl(a) { var b = new FormData; return a.trim().split("&").forEach(function (a) { if (a) { var c = a.split("="), d = c.shift().replace(/\+/g, " "), e = c.join("=").replace(/\+/g, " "); b.append(decodeURIComponent(d), decodeURIComponent(e)) } }), b } function C(b, a) { if (!(this instanceof C)) throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.'); a || (a = {}), this.type = "default", this.status = void 0 === a.status ? 200 : a.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = void 0 === a.statusText ? "" : "" + a.statusText, this.headers = new e(a.headers), this.url = a.url || "", this._initBody(b) } aj.prototype.clone = function () { return new aj(this, { body: this._bodyInit }) }, bu.call(aj.prototype), bu.call(C.prototype), C.prototype.clone = function () { return new C(this._bodyInit, { status: this.status, statusText: this.statusText, headers: new e(this.headers), url: this.url }) }, C.error = function () { var a = new C(null, { status: 0, statusText: "" }); return a.type = "error", a }; var gm = [301, 302, 303, 307, 308]; C.redirect = function (b, a) { if (-1 === gm.indexOf(a)) throw new RangeError("Invalid status code"); return new C(null, { status: a, headers: { location: b } }) }; var O = d.DOMException; try { new O } catch (gn) { (O = function (a, b) { this.message = a, this.name = b; var c = Error(a); this.stack = c.stack }).prototype = Object.create(Error.prototype), O.prototype.constructor = O } function bv(a, b) { return new Promise(function (i, g) { var c = new aj(a, b); if (c.signal && c.signal.aborted) return g(new O("Aborted", "AbortError")); var f = new XMLHttpRequest; function h() { f.abort() } f.onload = function () { var a, b, c = { status: f.status, statusText: f.statusText, headers: (a = f.getAllResponseHeaders() || "", b = new e, a.replace(/\r?\n[\t ]+/g, " ").split("\r").map(function (a) { return 0 === a.indexOf("\n") ? a.substr(1, a.length) : a }).forEach(function (d) { var a = d.split(":"), c = a.shift().trim(); if (c) { var e = a.join(":").trim(); b.append(c, e) } }), b) }; c.url = "responseURL" in f ? f.responseURL : c.headers.get("X-Request-URL"); var d = "response" in f ? f.response : f.responseText; setTimeout(function () { i(new C(d, c)) }, 0) }, f.onerror = function () { setTimeout(function () { g(new TypeError("Network request failed")) }, 0) }, f.ontimeout = function () { setTimeout(function () { g(new TypeError("Network request failed")) }, 0) }, f.onabort = function () { setTimeout(function () { g(new O("Aborted", "AbortError")) }, 0) }, f.open(c.method, function (a) { try { return "" === a && d.location.href ? d.location.href : a } catch (b) { return a } }(c.url), !0), "include" === c.credentials ? f.withCredentials = !0 : "omit" === c.credentials && (f.withCredentials = !1), "responseType" in f && (f9 ? f.responseType = "blob" : b3 && c.headers.get("Content-Type") && -1 !== c.headers.get("Content-Type").indexOf("application/octet-stream") && (f.responseType = "arraybuffer")), !b || "object" != typeof b.headers || b.headers instanceof e ? c.headers.forEach(function (a, b) { f.setRequestHeader(b, a) }) : Object.getOwnPropertyNames(b.headers).forEach(function (a) { f.setRequestHeader(a, ge(b.headers[a])) }), c.signal && (c.signal.addEventListener("abort", h), f.onreadystatechange = function () { 4 === f.readyState && c.signal.removeEventListener("abort", h) }), f.send(void 0 === c._bodyInit ? null : c._bodyInit) }) } bv.polyfill = !0, d.fetch || (d.fetch = bv, d.Headers = e, d.Request = aj, d.Response = C); var bw = new class extends fz { constructor() { super("transition"), this.url = window.location.href, this.pathname = window.location.pathname, this.pageFetched = null, this.currentPage = null, this.reload = bg.settings.transition.reload, this.prevScrollTop = 0, this.newScrollTop = 0, this.transitions = { in: {}, out: {} }, this.listeners = { linkHandler: this.linkHandler.bind(this) } } init() { this.currentPage = document.querySelector("[data-lg-page]"), this.currentPage && (this.reload = !!this.currentPage.hasAttribute("data-lg-reload") || bg.settings.transition.reload), this.initLoader(), this.reload || window.addEventListener("popstate", this.historyStateChanged.bind(this)), l.add("pageInit", this.pageInit.bind(this)), l.add("pageFetch", this.pageFetch.bind(this)), l.add("pageOut", this.pageOut.bind(this)), l.add("pageIn", this.pageIn.bind(this), 10, "transition"), l.add("pageCreate", this.pageCreate.bind(this)), l.add("pageKill", this.pageKill.bind(this), 999, "transition") } bindLinksEvent() { document.querySelector("[data-lg-page]") && document.querySelectorAll("a").forEach(a => { a.addEventListener("click", this.listeners.linkHandler) }) } unbindLinksEvent() { document.querySelectorAll("a").forEach(a => { a.removeEventListener("click", this.listeners.linkHandler) }) } linkHandler(c) { let b = c.currentTarget, a = b.getAttribute("href"); if (a && 0 !== a.indexOf("#") && 0 !== a.indexOf("tel") && 0 !== a.indexOf("mailto") && !b.closest("#wpadminbar") && "disabled" !== b.getAttribute("data-lg-transition") && "_blank" !== b.getAttribute("target") && (0 === a.indexOf(window.location.origin) || 0 === a.indexOf("/") || -1 === a.indexOf("/"))) { if (c.preventDefault(), window.location.href === a) return; this.navigateTo(a), history.pushState(null, null, this.url) } } navigateTo(b) { if (this.url = b, this.reload) { let a = document.createElement("link"); a.rel = "prefetch", a.href = b, document.head.appendChild(a), l.add("siteReload", a => { window.location = b }), l.cycle("reload") } else l.cycle("transition") } pageInit(a) { this.bindLinksEvent(), a() } initLoader() { let a = document.querySelector("[data-lg-loader]"); if (a && (a.style.transition = "none", a.classList.add("lg-loader", "lg-loader--" + a.getAttribute("data-lg-loader")), n.nextTick(() => { a.style.transition = "" })), a && "lottie" === a.getAttribute("data-lg-loader") && "object" == typeof lottie) { let c = a.getAttribute("data-lg-loader-out"), e = !1, b = a.getAttribute("data-lg-loader-in"), d = !1; c && (e = lottie.loadAnimation({ container: a, renderer: "svg", loop: !1, autoplay: !1, path: c, rendererSettings: { preserveAspectRatio: "none" } })), "reverse" === b && (b = c), b && (d = lottie.loadAnimation({ container: a, renderer: "svg", loop: !1, autoplay: !1, path: b, rendererSettings: { preserveAspectRatio: "none" } }), b === c && d.setDirection(-1)), a.playerOut = e, a.playerIn = d } } pageFetch(a) { let b = this; this.url && fetch(this.url, { credentials: "include" }).then(function (a) { return a.text() }).then(function (c) { b.pageFetched = c, a() }) } pageCreate(e) { let a = new DOMParser().parseFromString(this.pageFetched, "text/html"), b = a.querySelector("[data-lg-page]"); if (b) { { this.currentPage.insertAdjacentElement("beforebegin", b), b.style.opacity = 0, this.currentPage.style.opacity = 0, this.currentPage.style.position = "absolute", this.currentPage.style.top = 0, this.currentPage.style.left = "-999em", this.currentPage.style.width = "100%", document.querySelector("body").className = a.querySelector("body").className, document.querySelectorAll('meta[name="description"], meta[name="keywords"], meta[property="og:image"]').forEach(a => { a.parentNode.removeChild(a) }), a.querySelectorAll('meta[name="description"], meta[name="keywords"], meta[property="og:image"]').forEach(a => { document.querySelector("head title").insertAdjacentElement("afterend", a) }); let c = document.querySelector("head title"), d = a.querySelector("head title"); c && d && (c.innerText = d.innerText) } window.scroll({ top: this.newScrollTop, left: 0, behavior: "instant" }), window.scrollTop = 0, window.smoothScrollTop = 0, window.unifiedScrollTop = 0, this.prevScrollTop = 0, this.newScrollTop = 0, p.emit("pageTransition", a), e() } else window.location = this.url } pageKill(b) { let a = this.currentPage; a.parentNode.removeChild(a), this.currentPage = document.querySelector("[data-lg-page]"), this.reload = !!this.currentPage.hasAttribute("data-lg-reload") || bg.settings.transition.reload, b() } pageOut(b) { let g = this, c = document.querySelector("[data-lg-page]"); if (c) { let e = e7.toCamelCase(c.getAttribute("data-lg-page")), d = !1; if ("function" == typeof this.transitions.out[e] ? d = this.transitions.out[e] : "function" == typeof c.onpageout ? d = c.onpageout : "function" == typeof this.transitions.out.default && (d = this.transitions.out.default), d) d(c, b); else { let a = document.querySelector("[data-lg-loader]"); if (a) { if (a.playerOut) a.playerOut.stop(), a.playerOut.renderer.svgElement.style.opacity = 1, a.playerOut.play(), a.playerOut.addEventListener("complete", () => { g.reload || (a.playerOut.renderer.svgElement.style.opacity = ""), b() }, { once: !0 }); else { let f = window.getComputedStyle(document.querySelector("[data-lg-loader]")).getPropertyValue("transition-duration"); "" !== f && "0s" !== f ? a.addEventListener("transitionend", b, { once: !0 }) : b() } a.classList.add("is-visible") } else b() } } else b(); this.unbindLinksEvent.bind(this) } pageIn(c) { let b = document.querySelector("[data-lg-page]"); if (b) { let e = e7.toCamelCase(b.getAttribute("data-lg-page")), d = !1; if (b.style.opacity = "", "function" == typeof this.transitions.in[e] ? d = this.transitions.in[e] : "function" == typeof b.onpagein ? d = b.onpagein : "function" == typeof this.transitions.in.default && (d = this.transitions.in.default), d) d(b, c); else { let a = document.querySelector("[data-lg-loader]"); if (a && a.classList.contains("is-visible")) { if (a.playerIn) a.playerIn.stop(), a.playerIn.renderer.svgElement.style.opacity = 1, "reverse" === a.getAttribute("data-lg-loader-in") ? a.playerIn.goToAndPlay(a.playerIn.totalFrames, !0) : a.playerIn.play(), a.playerIn.addEventListener("complete", () => { a.playerIn.renderer.svgElement.style.opacity = "", a.classList.remove("is-visible"), c() }, { once: !0 }); else { let f = window.getComputedStyle(document.querySelector("[data-lg-loader]")).getPropertyValue("transition-duration"); "" !== f && "0s" !== f ? a.addEventListener("transitionend", c, { once: !0 }) : c(), a.classList.remove("is-visible") } } else c() } } else c() } historyStateChanged() { new URL(0 === this.url.indexOf(window.location.origin) ? this.url : window.location.origin + this.url).pathname !== window.location.pathname && (this.prevScrollTop = window.scrollY, n.nextTick(() => { this.newScrollTop = window.scrollY, window.scroll({ top: this.prevScrollTop, left: 0, behavior: "instant" }) }), this.navigateTo(window.location.href)) } add(b) { let a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "default", c = arguments.length > 2 ? arguments[2] : void 0; this.transitions[b] && (a = e7.toCamelCase(a), this.transitions[b][a] ? console.log("Transition animation for " + a + " page already exists.") : this.transitions[b][a] = c) } }; let bx = { cursor: {}, emitter: { emit: p.emit.bind(p), off: p.off.bind(p), on: p.on.bind(p), once: p.once.bind(p) }, viewportobserver: { add: K.add.bind(K), remove: K.remove.bind(K) }, lifecycle: { add: l.add.bind(l), refresh: l.cycle.bind(l, "refresh"), remove: l.remove.bind(l), debug: l.enableDebug.bind(l) }, mouseobserver: { add: L.add.bind(L), remove: L.remove.bind(L) }, preloader: { add: bh.add.bind(bh) }, reveal: { add: bi.add.bind(bi) }, scrollobserver: { add: M.add.bind(M), remove: M.remove.bind(M) }, ticker: { add: n.add.bind(n), nextTick: n.nextTick.bind(n), remove: n.remove.bind(n), tick: n.tick.bind(n) }, transition: { add: bw.add.bind(bw) }, settings: bg.setSettings.bind(bg) }; window.luge = bx, "loading" === document.readyState ? document.addEventListener("DOMContentLoaded", l.cycle.bind(l, "load"), { once: !0 }) : n.nextTick(() => { l.cycle("load") }, null); let by = "background-color: #00FFE5; color: black; font: 400 1em monospace; padding: 0.5em 0; "; return console.log("%c powered by %cluge%c / 0.6.7-beta %c > https://luge.cool ", by, "background-color: #00FFE5; color: black; font: 400 1em monospace; padding: 0.5em 0; font-weight: bold; ", by, "color: black; font: 400 1em monospace; padding: 0.5em 0; "), bx
})
